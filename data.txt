import java.io.*;
import java.nio.file.*;

public class FileCombiner {
    private static final String SEPARATOR_PREFIX = "===FILE:";
    private static final String SEPARATOR_SUFFIX = "===";

    public static void main(String[] args) throws IOException {
        File folder = new File("input"); // folder with source files
        File output = new File("combined.txt");

        try (BufferedWriter writer = new BufferedWriter(new FileWriter(output))) {
            for (File file : folder.listFiles()) {
                if (file.isFile()) {
                    writer.write(SEPARATOR_PREFIX + file.getName() + SEPARATOR_SUFFIX);
                    writer.newLine();
                    Files.lines(file.toPath()).forEach(line -> {
                        try {
                            writer.write(line);
                            writer.newLine();
                        } catch (IOException e) {
                            throw new RuntimeException(e);
                        }
                    });
                }
            }
        }

        System.out.println("Files combined successfully into " + output.getName());
    }
}
