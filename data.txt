<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<%/*
************************************************************************************************
Name: [ARMPEPresumptiveEligibilityDetails]		Created By: [Varun Maddirala]		Created on: [06/11/2013]
Purpose: [Register Medical Presumptive Eligibility details]
************************************************************************************************
*/%> 

<%/* NOT EDITABLE - FW Page Directive, Imports, and URIs */%>
<%@ include file = "/fwincludes/directives.jsp" %>
<%@ include file = "/includes/ArDirectives.jsp" %>
<%@ include file = "/includes/DcDirectives.jsp" %>
<%@ page import="java.text.SimpleDateFormat" %>
<%@page import="gov.illinois.fw.management.referencetables.ReferenceTableManager"%>
<jsp:useBean id="dcIndvCargo" class="gov.illinois.ies.business.entities.individual.DcIndvCargo" scope="request"/>
<jsp:useBean id="arMpeEligDetailCargo" class="gov.illinois.ies.business.entities.application.ArMpeEligDetailCargo" scope="request"/> 
<jsp:useBean id="arMpeEligDetailCollection" class="gov.illinois.ies.business.entities.application.ArMpeEligDetailCollection" scope="request"/> 
<jsp:useBean id="deductionAmt" class="gov.illinois.ies.presentation.view.pageelements.DeductionAmt" scope="application"/>  
<jsp:useBean id="monthlyEIAmt" class="gov.illinois.ies.presentation.view.pageelements.MonthlyEIAmt" scope="application"/> 
<jsp:useBean id="monthlyUIAmt" class="gov.illinois.ies.presentation.view.pageelements.MonthlyUIAmt" scope="application"/>
<jsp:useBean id="grossAmt" class="gov.illinois.ies.presentation.view.pageelements.GrossAmt" scope="application"/>     
<jsp:useBean id="netIncomeAmt" class="gov.illinois.ies.presentation.view.pageelements.NetIncomeAmt" scope="application"/>  
<jsp:useBean id="mpeBeginDt" class="gov.illinois.ies.presentation.view.pageelements.MpeBeginDt" scope="application"/> 
<jsp:useBean id="mpeEndDt" class="gov.illinois.ies.presentation.view.pageelements.MpeEndDt" scope="application"/>
<jsp:useBean id="apELast12MonthsSw" class="gov.illinois.ies.presentation.view.pageelements.ApELast12MonthsSw" scope="application" />
<jsp:useBean id="providerId" class="gov.illinois.ies.presentation.view.pageelements.ProviderId" scope="application"/>  
<jsp:useBean id="peopleCount" class="gov.illinois.ies.presentation.view.pageelements.PeopleCount" scope="application"/> 
<jsp:useBean id="pregnancyTestSw" class="gov.illinois.ies.presentation.view.pageelements.PregnancyTestSw" scope="application"/> 
<jsp:useBean id="unbornCount" class="gov.illinois.ies.presentation.view.pageelements.UnbornCount" scope="application"/>  
<jsp:useBean id="deliveryDt" class="gov.illinois.ies.presentation.view.pageelements.DeliveryDt" scope="application"/> 
<jsp:useBean id="comments" class="gov.illinois.ies.presentation.view.pageelements.Comments" scope="application"/>
<jsp:useBean id="ssn" class="gov.illinois.ies.presentation.view.pageelements.Ssn" scope="application"/>
<jsp:useBean id="suffix" class="gov.illinois.ies.presentation.view.pageelements.Suffix" scope="application"/>
<jsp:useBean id="prefix" class="gov.illinois.ies.presentation.view.pageelements.PrefixName" scope="application"/>
<jsp:useBean id="firstName" class="gov.illinois.ies.presentation.view.pageelements.FirstName" scope="application"/>
<jsp:useBean id="lastName" class="gov.illinois.ies.presentation.view.pageelements.LastName" scope="application"/>
<jsp:useBean id="midName" class="gov.illinois.ies.presentation.view.pageelements.MiddleName" scope="application"/>
<jsp:useBean id="dateOfBirth" class="gov.illinois.ies.presentation.view.pageelements.DateOfBirth" scope="application"/>
<jsp:useBean id="prevMpeCvrgSw" class="gov.illinois.ies.presentation.view.pageelements.PrevMpeCvrgSw" scope="application"/>
<jsp:useBean id="prevCvgeStartDt" class="gov.illinois.ies.presentation.view.pageelements.PrevCvgeStartDt" scope="application"/>

 <%/* NOT EDITABLE - Head Tag Include */%>
 <%  
	String userSecurity = String.valueOf(securityAttr.getPermission());
	
Map withinYearMap=null;
if(request.getAttribute("repeatedMap")!=null){
withinYearMap = (Map)request.getAttribute("repeatedMap");
}
%> 

<%
 	 String mpeBeginDate="";
	 String mpeEndDate="";
	 String providerNum="";
	 String householdCount="";
	 String isPregnant="";
	 String unbornCnt="";
	 String deliverDate="";
	 String mUnearnedIncome="0.00";
	 String mEarnedIncome="0.00";
	 String monthlyGross="0.00";
	 String incomedeductionAmount="0.00";
	 String totalNetIncome="0.00";
	 String commentsTxt="";	 
	 String isPrevMPECov="";
	 String covStrtDate="";
	 String peTwice="";
	 
if(null!= arMpeEligDetailCollection && null!= arMpeEligDetailCollection.get(0)){
	 arMpeEligDetailCargo = arMpeEligDetailCollection.getResults(0);
	 
	 if(null!= arMpeEligDetailCargo.getMpeBeginDt()){
	 	mpeBeginDate=arMpeEligDetailCargo.getMpeBeginDt().toString();
	 }
	 if(null!= arMpeEligDetailCargo.getMpeEndDt()){
	 	mpeEndDate=arMpeEligDetailCargo.getMpeEndDt().toString();
	 }	
	 if(0 != arMpeEligDetailCargo.getProviderId()){
	 	providerNum= String.valueOf(arMpeEligDetailCargo.getProviderId());
	 }
	 if(0 != arMpeEligDetailCargo.getHouseholdCount()){
	 	householdCount= String.valueOf(arMpeEligDetailCargo.getHouseholdCount());
	 }
	 if(0 != arMpeEligDetailCargo.getUnbornCount()){
	 	unbornCnt= String.valueOf(arMpeEligDetailCargo.getUnbornCount());
	 }
	 if('\u0000' != arMpeEligDetailCargo.getPregnancyTestSw()){
	 	isPregnant= String.valueOf(arMpeEligDetailCargo.getPregnancyTestSw());
	 }
	 if(null!= arMpeEligDetailCargo.getDeliveryDt()){
	 	deliverDate=arMpeEligDetailCargo.getDeliveryDt().toString();
	 }	
	 if(0.0 != arMpeEligDetailCargo.getMonthlyUiAmt()){
	 	mUnearnedIncome= String.valueOf(arMpeEligDetailCargo.getMonthlyUiAmt());
	 }
	 if(0.0 != arMpeEligDetailCargo.getMonthlyEiAmt()){
	 	mEarnedIncome= String.valueOf(arMpeEligDetailCargo.getMonthlyEiAmt());
	 }
	 if(0.0 != arMpeEligDetailCargo.getGrossAmt()){
	 	monthlyGross= String.valueOf(arMpeEligDetailCargo.getGrossAmt());
	 } 
	 if(0.0 != arMpeEligDetailCargo.getDeductionAmt()){
	 	incomedeductionAmount= String.valueOf(arMpeEligDetailCargo.getDeductionAmt());
	 }
	 if(0.0 != arMpeEligDetailCargo.getNetIncomeAmt()){
	 	totalNetIncome= String.valueOf(arMpeEligDetailCargo.getNetIncomeAmt());
	 }
	 if(null!= arMpeEligDetailCargo.getPeCommentsText()){
	 	commentsTxt=arMpeEligDetailCargo.getPeCommentsText();
	 }
	 if('\u0000' != arMpeEligDetailCargo.getPrevMpeCvgeSw()){
		 isPrevMPECov= String.valueOf(arMpeEligDetailCargo.getPrevMpeCvgeSw());
	 }
	 if(null!= arMpeEligDetailCargo.getPrevCvgeStartDt()){
		 covStrtDate=arMpeEligDetailCargo.getPrevCvgeStartDt().toString();
	 }
	 if('\u0000' != arMpeEligDetailCargo.getPeTwiceInYearSw()){
		 peTwice= String.valueOf(arMpeEligDetailCargo.getPeTwiceInYearSw());
	 }
	 
}


	
%>
<%@ include file = "/fwincludes/headTag.jsp" %>
<%

 String loadJavascript = "onload=\"prefillCheck();formatprefilledValues();\"";
 

String vsw=String.valueOf(dcIndvCargo.getVoidSw());

%>
<TL:FWBodyTag security="<%=securityAttr.getPermission()%>"  voidSw="<%=vsw%>" mode="<%=pageMode%>" other="<%= loadJavascript %>"/>
 <%/* EDITABLE - Page specific .js or .css files (You can add code to this section) */%>
<script language="javascript" src="/js/ar.js" type="text/javascript"></script>
<script language="javascript" src="/js/dc.js" type="text/javascript"></script>

<script language="javascript" type="text/javascript">
function prefillCheck() {
	<%
		Boolean isMPEApp = (Boolean) session.getAttribute("IS_MPE_APP");
		/* Added for ILIES-126375 */
		if (isMPEApp != null && isMPEApp) {
		//System.out.println("ISMPEAPP: " + isMPEApp);
	%>
		var radio0 = document.getElementById("pregnancyTestSw0");
		radio0.checked = true;
	<% } %>
}
function addMonthlyIncomeAmt() {
		var monthlyIncomeAmt1=0.00;
		var monthlyIncomeAmt2=0.00;
		if(document.form1.monthlyEIAmt.value && !isNaN(document.form1.monthlyEIAmt.value)){
			var monthlyIncomeAmt1 = parseFloat(document.form1.monthlyEIAmt.value);
		}
		
		if(document.form1.monthlyUIAmt.value && !isNaN(document.form1.monthlyUIAmt.value)){
			var monthlyIncomeAmt2 = parseFloat(document.form1.monthlyUIAmt.value);
		}

		var totalMonthlyIncomeAmt = monthlyIncomeAmt1 + monthlyIncomeAmt2;

		document.form1.grossAmt.value = totalMonthlyIncomeAmt;
		document.form1.netIncomeAmt.value = totalMonthlyIncomeAmt;

	}
	
	function subtractDeductionIncomeAmt() {
		var totalMonthlyIncomeAmt=0.00;
		var monthlyDeductAmt=0.00;
		
		if(document.form1.grossAmt.value && !isNaN(document.form1.grossAmt.value)) {
		var totalMonthlyIncomeAmt = parseFloat(document.form1.grossAmt.value);
		}
		if(document.form1.deductionAmt.value && !isNaN(document.form1.deductionAmt.value)) {
		var monthlyDeductAmt = parseFloat(document.form1.deductionAmt.value);
		}
		
		var totalNetIncomeAmt = totalMonthlyIncomeAmt - monthlyDeductAmt;
		if(totalNetIncomeAmt < 0){
			document.form1.netIncomeAmt.value = 0.00;
		}else{
			document.form1.netIncomeAmt.value = totalNetIncomeAmt;
		}

	}
	function makePregnancyMandataory(){
	var radio0= document.getElementById("pregnancyTestSw0");
	var radio1= document.getElementById("pregnancyTestSw1");
	var errArr= new Array(radio0,radio1);
	if(radio1.checked || radio0.checked){
		return true; 
	} else {
		alertMe('GL003',radio0,radio0);
	}
	}
	
	function makePrevMPECvrgMandatory(){
		var radio3= document.getElementById("prevMpeCvrgSw0");
		var radio4= document.getElementById("prevMpeCvrgSw1");
		var errArr= new Array(radio3,radio4);
		if(radio3.checked || radio4.checked){
			return true; 
		} else {
			alertMe('GL003',radio3,radio3);
			return false;
		}
	}
	 function isLessThan10() {
	 var unborn= document.form1.unbornCount.value;
	 if(!isNaN(unborn) && unborn > 9){
	 	alertMe("AR3129");
	 	return false;
	 }  
	}
    function checkPeopleCount() {
    	 var unborn= document.getElementById('unbornCount').value;
    	 var peopleCount= document.getElementById('peopleCount').value;
    	 if(unborn!=null && unborn!=undefined && peopleCount!=null && peopleCount!=undefined){
	    	 if(parseInt(unborn)>=parseInt(peopleCount)){
	  		      alertMe('GL190');
	  	           return false;
	    	}    
	    }
    	
    }
	 
	
//function to make pregnancy date in the range of 11 months from application start date	
//added for ILIES - 130605
function compareDatesforPregnancy(month1, day1, year1,month2,day2,year2,targetField,dateString1,dateString2){
   
	var errArr1 = createErrArr(month1,day1,year1);
	var errArr2 = createErrArr(month2,day2,year2);
	var errArr3 = createErrArr(month1,day1,year1,month2,day2,year2);
	var date1 = validateDates(month1, day1, year1,targetField);
	var date2 = validateDates(month2,day2,year2,targetField);
	if(dateVal == false){
		if(date1==false){
			dateVal = true;
			alertMe("GL017",errArr1,month1);
		}
  		if(date2==false){
			dateVal = true;
			alertMe("GL017",errArr2,month2);
		}
	}
	if (date1 && date2)
	{
  	var month1Val = month1.value;
  	var day1Val = day1.value;
  	if (day1Val=="disableDay") day1Val="01";
  	var year1Val = year1.value;
  	var month2Val = month2.value;
  	var day2Val = day2.value;
  	if (day2Val=="disableDay") day2Val="01";
  	var year2Val = year2.value;
  
  	if ((month1Val ==null && day1Val ==null && year1Val ==null) || (month1Val =="" && day1Val =="" && year1Val =="")) {
		return true;
  	} else {
	  	var dateOne = new Date(year1Val, month1Val - 1, day1Val);
	  	dateOne.setMonth(dateOne.getMonth()+11);
  	}
	
  	if ((month2Val ==null && day2Val ==null && year2Val ==null) || (month2Val =="" && day2Val =="" && year2Val =="")) {
		return true;
  	} else {
	  	var dateTwo = new Date(year2Val, month2Val - 1, day2Val);
  	}
  
 	if(dateOne < dateTwo){

  		alertMe('GL101',errArr3,dateString1,dateString2);
    return false;
 	} 
	}
return true;
}

//Number of people in houseshold needs to be greater than one
function numOfPeopleCheck(){
	var numPeople = document.form1.peopleCount;
	if (numPeople!=null && numPeople.value<2){
		alertMe("AR052",numPeople,numPeople);
		return false;
	}
	return true;
}

//ILIES-193570	FORMAT PREFILLED VALUES IN THE FORM TO PROPER $0.00 VALUES
function formatprefilledValues(){

	document.form1.monthlyEIAmt.value = roundToCents(document.form1.monthlyEIAmt.value);
	document.form1.monthlyUIAmt.value = roundToCents(document.form1.monthlyUIAmt.value);
	document.form1.grossAmt.value = roundToCents(document.form1.grossAmt.value);
	document.form1.deductionAmt.value = roundToCents(document.form1.deductionAmt.value);
	document.form1.netIncomeAmt.value = roundToCents(document.form1.netIncomeAmt.value);
}

function validateCoverageStartDate(){
	var radio0= document.getElementById("prevMpeCvrgSw0");
	if(radio0.checked){
		if(!validateDates(document.form1.monthprevCvgeStartDt, document.form1.dateprevCvgeStartDt, document.form1.yearprevCvgeStartDt)){
			var errArr = createErrArr(document.form1.monthprevCvgeStartDt,document.form1.yearprevCvgeStartDt,document.form1.dateprevCvgeStartDt);
			alertMe("DC4511",errArr,'Previous Coverage Start Date');
		 	return false;
		}
	}
}

</script>

<script language="javascript" src="/js/dcErrorCodes.js" type="text/javascript"></script>

<ARTagLibrary:FWPrefillTag  preFill = "Y" />

<form name="form1" method="post" action="/ControllerServlet" target="_self">

<%/* NOT EDITABLE - Framework Hidden Fields */%>
<%@ include file = "/fwincludes/hiddenFields.jsp" %>

<%@ include file = "/fwincludes/tabs.jsp" %>

<%/* EDITABLE - Page Level Icon Includes (You can add code to this section) */%>

 <%@ include file = "/fwincludes/spacing.jsp" %>

 <DIV id="MainHeader" repeat="N">

 <%try {%>
 <%@ include file="/includes/ArDcHeader.jsp" %>
 <%}catch(Exception e){
 	e.printStackTrace();
 }
%>
  <%/* NOT EDITABLE - Begin Outter HTML Table  and  messages file*/%>
  <%@ include file="/fwincludes/messageDisplay.jsp" %>
 <input type="hidden" name ="IS_PREVIOUS_ACTION" id ="IS_PREVIOUS_ACTION" value="N">
 <input type="hidden" name="indvId" id="indvId" value="<%=dcIndvCargo.getIndvId()%>">
<!--  added for ILIES - 130605 -->
 <input type="hidden" name="compareDatesforPregnancy" id="compareDatesforPregnancy" validate="compareDatesforPregnancy(document.form1.monthmpeBeginDt,document.form1.datempeBeginDt,document.form1.yearmpeBeginDt,document.form1.monthdeliveryDt,document.form1.datedeliveryDt,document.form1.yeardeliveryDt,document.form1.endDate,'Expected delivery date','Application Start Date');">
 <!-- End of ILIES - 130605 -->
 <%	String appNumber = (String)request.getAttribute("APPLICATION_NUMBER"); %>
<input type="hidden" name="APPLICATION_NUMBER" id="APPLICATION_NUMBER" value="<%=appNumber%>">
<input type="hidden" name="validateCoverageStartDate" id="validateCoverageStartDate" validate="validateCoverageStartDate();">
<%

  StringBuffer  sb = new StringBuffer(" onclick=\"javascript:return doReset(document.form1);return false \" ");
   String resetScript = sb.toString();
   
   sb = new StringBuffer("onclick=\"javascript:document.form1.IS_PREVIOUS_ACTION.value='Y';setActionFieldAndSubmit(document.form1,'"+ViewConstants.PREVIOUS_BUTTON+"');return false\" " );
   String prevScript = sb.toString();

   sb =  new StringBuffer("onclick=\"javascript:setActionFieldAndSubmit(document.form1,'"+ViewConstants.NEXT_BUTTON+"');return false\" " );
   String nextScript = sb.toString();

   sb=null;

   String histNav="S";
   if(request.getAttribute("histNavId")!= null) {
	   histNav=(String)request.getAttribute("histNavId");
   }
 %>

 		<DCTagLibrary:DcButtonTag			 buttonType     = "RPN"
			 resetScript="<%=resetScript%>"
  			 buttonSecurity ="<%=String.valueOf(securityAttr.getPermission())%>"
     		 prevScript    ="<%=prevScript%>"
  			 nextScript    ="<%=nextScript%>"
			 histNavInd="<%=histNav%>"
			 tabPosition = "top"
    			 />
  
<H2 style="width: 723px;" class="bodyDividerTableHeader"> Identifying Information</H2>

<table  border="0" class="bodyFormLabels" title="Individual Name" role="presentation">
         <tr>
         <td>
         <TL:FWLabelTag bean="<%=prefix%>" colon="Y" />
         </td>
         <td width="100">
         <%= null!= dcIndvCargo.getPrefixName() ? ReferenceTableManager.getValueByColumn(true,"NAMEPREFIX",dcIndvCargo.getPrefixName(),"DESCRIPTION"): "" %>
         </td>
         <td>
         <TL:FWLabelTag bean="<%=firstName%>" colon="Y" />
         </td>
         <td width="100">
         <%= null!= dcIndvCargo.getFirstName() ? dcIndvCargo.getFirstName(): "" %>
         </td>
         <td>
         <TL:FWLabelTag bean="<%=midName%>" colon="Y" />
         </td>
         <td width="100">
         <%= null!= dcIndvCargo.getMidName() ? dcIndvCargo.getMidName(): "" %>
         </td>
         <td>
         <TL:FWLabelTag bean="<%=lastName%>" colon="Y" />
         </td>
         <td width="100">
         <%=null!= dcIndvCargo.getLastName() ? dcIndvCargo.getLastName(): "" %>
         </td>
         <td>
         <TL:FWLabelTag bean="<%=suffix%>" colon="Y" />
         </td>
         <td width="100">
         <%=null!= dcIndvCargo.getSufxName() ? ReferenceTableManager.getValueByColumn(true,"NAMESUFFIX",dcIndvCargo.getSufxName(),"DESCRIPTION"): "" %>
         </td>
         </tr>
         <tr>
         <td>
         <TL:FWLabelTag bean="<%=ssn%>" colon="Y" />
         </td>
         <td width="100">
         <%
         	String socialSecurity = String.valueOf(dcIndvCargo.getSsn());
         	if (socialSecurity.length() < 9) {
         		//pad zeroes
         		socialSecurity = "000000000".substring(0, 9 - socialSecurity.length()) + socialSecurity;
         	} 
          	socialSecurity = socialSecurity.substring(0,3)+"-"+socialSecurity.substring(3,5)+"-"+socialSecurity.substring(5,9); 
         %>
                  <TL:FWGroupCustomSSNTag beanId = "ssn"  pageMode = "6"  SSN="<%=socialSecurity%>"  disableLabel="Y" />
         
         </td>
         <td>
			&nbsp;        
		 </td>
		 <td>
			&nbsp;        
		 </td>
         <td width="75">
         <TL:FWLabelTag bean="<%=dateOfBirth%>" colon="Y" />
         </td>
         <td width="100">
         <% SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy");
         String date= sdf.format(dcIndvCargo.getDobDt()); %>
         <%= null!= dcIndvCargo.getDobDt() ? date : "" %>
         </td>
	     </tr>
	
		 </table>
		 
<H2 class="bodyDividerTableHeader" style="width: 723px;">Eligibility Information</H2>
<table width="723" border="0" cellspacing="0" cellpadding="0" class="bodyDividerTable" role="presentation">
           <tr class="bodyFormLabels">
           <td width="300"><TL:FWLabelTag bean="<%=mpeBeginDt%>" required="Y"/></td>
           <td width="350" colspan=5 > <TL:FWGroupCustomDateTag beanId = "mpeBeginDt"   isRequired = "Y" dateValue = "<%=mpeBeginDate%>"  pageMode = "1" tabIndex = "40" disableLabel="Y" /> 
		   </td>
           </tr>
           <tr class="bodyFormLabels">
           <td width="300"><TL:FWLabelTag bean="<%=mpeEndDt%>" required="Y"/>&nbsp;&nbsp;&nbsp;</td>
           <td width="350" colspan=5 > <TL:FWGroupCustomDateTag beanId = "mpeEndDt"   isRequired = "Y" dateValue = "<%=mpeEndDate%>" isGreater="mpeBeginDt" pageMode = "1" tabIndex = "40" disableLabel="Y" /> 
		   </td>
           </tr>
           <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">
           <td height="29" ><TL:FWLabelTag bean="<%=providerId%>" required="Y" /></td> 
           <td height="28" width="148">
           <TL:FWTextTag bean="<%=providerId%>" textRequired="Y" tabindex="9" size="12"  value="<%=providerNum%>" other="validate=\"isNumericValNotZero(document.form1.providerId);isComplete(document.form1.providerId)\"" />
           <input type="image" src='../../../images/searchImage.gif' alt='Search MPE Provider ID' onClick='javascript:searchAndSetAddressDataWithFilter(new Array("fromARMPE"),"/ControllerServlet?REQUESTED_PAGE_ID=DCADD");return false'>
		   </td>		
		   <% 
		   List<String> radioDisplay= new ArrayList<String>();
		   radioDisplay.add("Yes");
		   radioDisplay.add("No");
		   List<String> radioValues= new ArrayList<String>();
		   radioValues.add("Y");
		   radioValues.add("N");
	       %> 
          <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">
          <td height="29"><TL:FWLabelTag bean="<%=peopleCount%>" required="Y"/></td> 
          <td colspan=5 height="29"><TL:FWTextTag bean="<%=peopleCount%>"
						tabindex="2" size="10" maxlength="5" other="validate=\"isNumeric(document.form1.peopleCount);isComplete(document.form1.peopleCount);numOfPeopleCheck();\""  value="<%=householdCount%>" /></td> </tr>
						
		  <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">
          <td height="35" width="970"><TL:FWLabelTag bean="<%=pregnancyTestSw%>" required="Y" question="Y" /></td> 
          <td colspan=5 height="29">
          <TL:FWRadioButtonGroupTag bean="<%=pregnancyTestSw%>" size="25" lblDesc="Received positive pregnancy test from a medical provider? Required" tabindex="14" tablecols="2"
          		selected="<%=isPregnant%>"	display="<%=radioDisplay%>" value="<%=radioValues%>" 
          validateAttr="makePregnancyMandataory();" /> </td></tr>
						
          <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">
          <td height="29"><TL:FWLabelTag bean="<%=unbornCount%>" required="Y"/></td> 
          <td colspan=5 height="29"><TL:FWTextTag bean="<%=unbornCount%>"
						tabindex="2" size="10" maxlength="5" value="<%=unbornCnt%>" other="validate=\"isNumeric(document.form1.unbornCount);isComplete(document.form1.unbornCount);isLessThan10();checkPeopleCount();\"" /></td> </tr>
	      
	       <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">		
           <td width="300"><TL:FWLabelTag bean="<%=deliveryDt%>" required"Y"/></td>
           <td width="350"> <TL:FWGroupCustomDateTag beanId = "deliveryDt"   isRequired = "Y" dateValue = "<%=deliverDate%>"  pastDate='Y' futureDate="N" pageMode = "1" tabIndex = "40" disableLabel="Y" /> 
		   </td>
		   </tr>
		   
		   <% String apELast12MonthsSwTitle1 = "Has this individual received PE benefits twice this calendar year";
		   	char adRecvSw= ' ';
				String adchecked ="false";
				String adultSw="N";
				if(withinYearMap!=null && withinYearMap.containsKey(dcIndvCargo.getIndvId())){
					adRecvSw = (Character) withinYearMap.get(dcIndvCargo.getIndvId());	
					if(adRecvSw=='Y'){
						adchecked="true";
						adultSw="Y";
					}
				}else{
				      if(peTwice != null && peTwice.equalsIgnoreCase("Y")){
				      	adchecked="true";
						adultSw="Y";
						}
				}  
			%>
		   <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">
		   <td height="35" width="970"><TL:FWLabelTag bean="<%=apELast12MonthsSw%>" colon="N" question="N" label="Has this individual received PE benefits twice this calendar year?"/></td>
		   <td width="120" height="20" align="left"><TL:FWCheckBoxTag
					bean="<%=apELast12MonthsSw%>" value="<%=adchecked%>" selected="<%=adultSw%>" checkBoxTitle="<%=apELast12MonthsSwTitle1%>" mode="0"/>
			 <input type="hidden" name="twiceinyear" id="twiceinyear" value="<%=adultSw%>">
			</td>
		   </tr>
		   
		   
		   <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">
          <td height="35" width="970"><TL:FWLabelTag bean="<%=prevMpeCvrgSw%>" label="Has this individual previously received MPE coverage during this pregnancy" required="Y" question="Y" /></td> 
          <td colspan=5 height="29">
          <TL:FWRadioButtonGroupTag bean="<%=prevMpeCvrgSw%>" size="25" lblDesc="Has this individual previously received MPE coverage during this pregnancy? Required" tabindex="14" tablecols="2"
          		selected="<%=isPrevMPECov%>" display="<%=radioDisplay%>" value="<%=radioValues%>" validateAttr="makePrevMPECvrgMandatory();" other="onChange=\"changePrevCvrgDtStatus();\""/> </td></tr>
          
          <tr class="bodyFormLabels" border="0" cellspacing="0" cellpadding="0">		
           <td width="300" style="padding-left:40px;"><TL:FWLabelTag bean="<%=prevCvgeStartDt%>" required="Y"/></td>
           <td width="350"> <TL:FWGroupCustomDateTag beanId = "prevCvgeStartDt" dateValue = "<%=covStrtDate%>"  futureDate="Y" pageMode = "1" tabIndex = "40" disableLabel="Y" /> 
		   </td>
		   </tr>
		   
</table>

<H2 class="bodyDividerTableHeader" style="width: 723px;">Household Income</H2>
<table width="723" border="0" class="bodyFormLabels" title="Other Information" role="presentation">
       <tr class="bodyFormLabels">
        <td width="400">
                         <TL:FWCurrencyTag beanId="monthlyEIAmt" isRequired="Y" selectedVal="<%=mEarnedIncome%>" size= "8" maxlength="10" tabindex="39" other="onChange=\"addMonthlyIncomeAmt();subtractDeductionIncomeAmt();formatprefilledValues();\"onkeyup=\"addMonthlyIncomeAmt();subtractDeductionIncomeAmt();\""/>
        </td>
        </tr>
        <tr class="bodyFormLabels">
       
        <td width="400">
                 <TL:FWCurrencyTag beanId="monthlyUIAmt" isRequired="Y" selectedVal="<%=mUnearnedIncome%>" size= "8" maxlength="10" tabindex="39" other="onChange=\"addMonthlyIncomeAmt();subtractDeductionIncomeAmt();formatprefilledValues();\"onkeyup=\"addMonthlyIncomeAmt();subtractDeductionIncomeAmt();\""/>
         </td>
         </tr>
        <tr class="bodyFormLabels">
       
         <td width="400"> 
         <TL:FWCurrencyTag beanId="grossAmt" selectedVal="<%=monthlyGross%>" size= "8" maxlength="10" tabindex="39" other="onChange=\"subtractDeductionIncomeAmt();formatprefilledValues();\"onkeyup=\"subtractDeductionIncomeAmt();\"validate=\"isComplete(document.form1.grossAmt)"/>
         </td></tr>
</table>

<H2 style="width:723px;" class="bodyDividerTableHeader">Income Deduction</H2>
          <table width="723" border="0" cellspacing="0" cellpadding="0" class="bodyDividerTable" role="presentation">
          <tr class="bodyFormLabels">
          <td width="400">
          	<TL:FWCurrencyTag beanId="deductionAmt" isRequired="Y" selectedVal="<%=incomedeductionAmount%>" size= "8" maxlength="10" tabindex="39" other="onkeyup=\"subtractDeductionIncomeAmt();\"onChange=\"formatprefilledValues();\""/>
          </td>
          </tr>
          </table>
          <br>
          
<H2 class="bodyDividerTableHeader" style="width: 723px;">Totals</H2>
         <table width="723" border="0" cellspacing="0" cellpadding="0" class="bodyDividerTable">
         <tr class="bodyFormLabels">
         <td width="400"> 
		 <TL:FWCurrencyTag beanId="netIncomeAmt" selectedVal="<%=totalNetIncome%>" size= "8" maxlength="10" tabindex="39" other="validate=\"isComplete(document.form1.netIncomeAmt);\"onChange=\"formatprefilledValues();\""/>
         </td> 
         </tr>
         </table>
<br>         
<H2 class="bodyDividerTableHeader" style="width: 723px;">Comments</H2>
         <table>
         	<tr>
         		<td colspan="20" width="560" height="90">
		 			<TL:FWTextAreaTag bean="<%=comments%>" value="<%=commentsTxt%>" rows="10" cols="185"  other="checkSpecialChar"/>
		 		</td>
		 	</tr>
		 </table> 
      
<br></DIV>

    	     <DCTagLibrary:DcButtonTag			 buttonType     = "RPN"
			 resetScript="<%=resetScript%>"
 			 buttonSecurity ="<%=String.valueOf(securityAttr.getPermission())%>"
     	     prevScript    ="<%=prevScript%>"
  			 nextScript    ="<%=nextScript%>"
			 histNavInd="<%=histNav%>"

    			 />
    			<!--  Added for ILIES-126375 -->
 <SCRIPT LANGUAGE="JavaScript" type="text/javascript">
window.attachEvent( "onload", changePrevCvrgDtStatus );
function changePrevCvrgDtStatus(){
	<% if(securityAttr.getPermission() == 1) { %>
	var radio0= document.getElementById("prevMpeCvrgSw0");
	var radio1= document.getElementById("prevMpeCvrgSw1");	
	if(radio0.checked){		
		document.form1.monthprevCvgeStartDt.disabled = false;
		document.form1.dateprevCvgeStartDt.disabled = false;
		document.form1.yearprevCvgeStartDt.disabled = false;
		var calIcon = document.getElementById("dimg_prevCvgeStartDt");
		calIcon.src = "/images/calendar.gif";
	} else{
		document.form1.monthprevCvgeStartDt.value = "mm";
		document.form1.dateprevCvgeStartDt.value = "dd";
		document.form1.yearprevCvgeStartDt.value = "yyyy";
		document.form1.monthprevCvgeStartDt.disabled = true;
		document.form1.dateprevCvgeStartDt.disabled = true;
		document.form1.yearprevCvgeStartDt.disabled = true;
		var calIcon = document.getElementById("dimg_prevCvgeStartDt");
		calIcon.src = "/images/calendarGray.gif";
	}
	<%}	%>
}
</script>
 <TL:FWUpdateUserTag cargo="<%=arMpeEligDetailCargo%>" />  
<%@ include file = "/fwincludes/endTable.jsp" %>