 // --- Household / Residence Validation ---
    var q1 = parseInt(document.getElementById("peopleLivingWithYou")?.value, 10);
    var q2 = parseInt(document.getElementById("peopleOutsideHousehold")?.value, 10);

    if (isNaN(q1)) q1 = 0;
    if (isNaN(q2)) q2 = 0;

    var totalTop = q1 + q2;

    // look at all residence dropdowns
    var selects = document.getElementsByName("livingArrangement");
    var inHome = 0, outside = 0;
    for (var i = 0; i < selects.length; i++) {
        var val = selects[i].value;
        if (!val || val === "SEL") continue;
        if (val === "HO") inHome++;
        else outside++;
    }
    var personsAdded = selects.length;

    if (q1 !== inHome) {
        messages.push("Number of people living with you must match those marked 'In this Home' in Residence.");
    }

    if (q2 !== outside) {
        messages.push("Number of people outside the household must match those marked with another option in Residence.");
    }

    if (totalTop !== personsAdded) {
        messages.push("Total people (Q1 + Q2) must equal the number of persons listed in the Residence section.");
    }