1	Introduction
1.1	Purpose
The United States Department of Agriculture’s (USDA) new version of National Accuracy Clearinghouse (NAC) will require all states to send information about Supplemental Nutrition Assistance Program (SNAP) recipients to National Accuracy Clearinghouse (NAC) which will be used to determine if the participant is receiving SNAP benefits in another state. 
1.2	Scope
The following section outlines the scope of the Functional/Technical Design Specifications for the various sub-systems that are impacted by the project requirements.
Interface
•	Develop a batch process to retrieve the SNAP recipient information from FLORIDA system and send a Daily Bulk upload of SNAP recipients to NAC by invoking Bulk Upload API.
•	Develop a batch process to invoke the Duplicate Participant API for all individuals who applied for SNAP benefits using the Customer Portal. 
•	Develop a batch process to get the Matching states information by invoking Match Resolution API.
Customer Portal
•	Leverage existing values in the application process to determine if a SNAP applicant or household is classified as a “vulnerable”.
•	Modify the Post E-sign process to initiate the NAC SNAP Duplicate Participant Query API request for Initial Applications, Redeterminations, and Add Additional Benefits Applications. 
Worker Portal
•	Modify Application Summary to display the NAC Query service response related to NAC Match results.
•	Modify Worker Portal to display new NAC related alerts.
Notices
•	Develop a new NAC Notice of Match (Pending) titled NACM P1 to inform the clients of the match and request for verifications. 
•	A notice template will be developed for the new notices in English, Spanish, and Creole languages.
Table 1 1: Scope
1.3	References
Document Title	Document ID	Date	Publishing Organization	Version
ACCESS National Accuracy Clearinghouse (NAC) Implementation-Requirements Validation-v1.0	N/A	06/05/2025		1.0
Table 1 2: References
1.4	Assumptions and Dependencies
•	The scope of this project only includes the Supplemental Nutrition Assistance Program (SNAP).
•	Notice language and translations will be provided by the Department of Children and Families (DCF).
•	The new API’s will be developed in MuleSoft, and the Department of Children and Families (DCF) will provide the required additional system capacity for the new services.
•	The scope of this project would also include Supplemental Nutrition Assistance Program (SNAP) participants who are receiving other benefits as well.
•	The scope of the project does not include changes to the FLORIDA Termination notice (AE01 T1). 
•	When closing SNAP benefits for a recipient who is receiving benefits in another state, workers are responsible for entering the appropriate closure reason code on AWAA (reason code - 351).  This will ensure the correct description is included in the termination notice. 
•	The scope of the project includes the discontinuation of the existing NAC interface. This will be handled during Phase 2 in March 2026.
•	The scope of the project does not include the creation of a new NAC denial notice.
•	The scope of the project will not include DSNAP individuals as part of the Bulk Upload API.
•	Get Match Details and Update State Disposition of NAC Match Resolution API will not be in Scope for Phase 1. These APIs will be developed as part of Phase 2.
•	The new NAC Match Resolution report will be available in the new reporting portal.  DCF is responsible for handling the reporting changes. The design document does not include the functional or technical details for the new NAC Match Resolution report. 
2	NAC Functional Design Approach
The United States Department of Agriculture’s (USDA) new version of National Accuracy Clearinghouse (NAC) will require all states to send information about Supplemental Nutrition Assistance Program (SNAP) recipients to National Accuracy Clearinghouse (NAC) which will be used to determine if the participant is receiving SNAP benefits in another state. 
2.1	Functional Design Overview
The objective of this project is to implement the USDA's new version of NAC to comply with the upgrade changes. The following changes will be involved in meeting the requirements.
•	Develop new Interface processes to invoke NAC APIs for Bulk Upload, Duplicate Participant, and Get Match Details. 
•	Modify Customer Portal to capture when a SNAP applicant or household is considered as vulnerable and identify SNAP applicants (Initial, Renewal, and Add Benefits) that meet criteria for NAC Duplicate Participant API. 
•	Modify Worker Portal to display NAC Match Alerts and Verification Details based on the response from the NAC Duplicate Participant API and Get Match Details API. 
•	Develop a new notice that will automatically generate to the client when a NAC Match is returned. 
2.1.1	Interfaces
The NAC Interface is used to determine if SNAP applicants or recipients are applying for or receiving benefits in another state. The following processes will be created for the NAC Interface.
2.1.1.1	Bulk Upload API 
2.1.1.1.1	Upload All Participants API 
The Bulk Upload API is a nightly upload process that is sent to NAC and includes all active SNAP recipients in the state of Florida. The process will check if the individual meets requirements to be sent to NAC, this includes checking that the individual’s SSN is present on FLORIDA Individual Demographics screen (AIID) and the individual is receiving regular SNAP benefits. Individuals who are only receiving DSNAP benefits will not be sent in the nightly Bulk Upload process.  The process to invoke the nightly Bulk Upload API is below. 
 
Figure 2 1: Daily Bulk Upload 
The Bulk Upload API will send all the SNAP Participants' information to NAC. In addition, the PII data will be normalized, concatenated, and hashed before being sent to NAC. Refer to Section 4 PII – Normalization, Concatenation, and Hashing for more details.
Element Name	Mandatory	Format	Length	Description
Last Name	Yes	Convert to plain text and lowercase	15	Individual's last name
Date of Birth	Yes	CCYY-MM-DD	10	Individual's DOB
Social Security Number	Yes	000-00-0000	11	Individual's SSN
Vulnerability information	Yes	True or False	4 or 5	Individual's living arrangement
Case Number	No	0000000000	10	Case Number
Participant ID	Yes	0000000000	10	Individual's PIN or Individual ID
Participant Closing Date	No	CCYY-MM-DD	10	FS budget end date
Recent Certification Months	No	CCYY-MM	7	FS budget effective date Up to 3 months
Last Name	Yes	Convert to plain text and lowercase	15	Individual's last name
Date of Birth	Yes	CCYY-MM-DD	10	Individual's DOB
Table 2 1: Nightly Bulk Upload API
The following table below details the information that will be returned as part of the Bulk Upload API Response.
Elements	Format	Length	Description
Data	Alpha Numeric	NA	The response payload. Will contain a data property with upload details.
Upload_id	Alpha Numeric	NA	A unique upload_id for the successful upload.
StatusCode	Alpha Numeric	NA	The status code for the upload response.

COMPLETE – when successful
FAILED – The upload was unsuccessful. The NAC will continue to match against records of active participants from your previous successful upload
UPLOADING – The file is uploading to the NAC, or the file has uploaded but is still being validated
Message	Alpha Numeric	NA	A message describing the status code.
Error_message	Alpha Numeric	NA	Explanation of the error that prevented the upload
Table 2 2: Bulk Upload Response (upload_all_participant)
2.1.1.1.2	Get Upload Details API 
After receiving the bulk upload file from Florida, NAC will validate and load the file to the NAC server. This process can take up to 60 minutes. 
Another batch process will invoke the bulk upload API (specifically, the uploads endpoint) 30 minutes after receiving the upload_id in the response from the bulk upload API (upload_all_participants endpoint). This invocation is performed to retrieve the file upload status associated with the given upload_id.
The following below are details which will be returned as part of the Get Upload Details.
Elements	Format	Length	Description
state	String	NA	Two-letter state code
totalCountParticipants	String	NA	Total number of participants in the upload
deletionStartTime	String	NA	Timestamp when deletion started (UTC)
deletionEndTime	String	NA	Timestamp when deletion ended (UTC)
deletionStatus	String	NA	Status of the deletion process
deletionErrors	String	NA	Error details if any occurred during
totalDeletedOldParticipantsCount	String	NA	Number of old participants deleted
upload_identifier	String	NA	Unique identifier for the upload
created_at	String	NA	Timestamp when the upload record was created (UTC)
participants_uploaded	String	NA	Number of participants uploaded
completed_at	String	NA	Timestamp when the upload was completed (UTC)
status	String	NA	Overall status of the upload
Table 2 3: Bulk Upload Response (Get Upload)
NAC Bulk API V3 Request and Response Sample:
 
2.1.1.2	Duplicate Participant API
The Duplicate Participant API is a real-time query from Customer Portal to NAC to check if individual’s submitting SNAP applications (including Initial Applications, Renewals, and Add Benefits) are currently receiving benefits in another state. 
  
Figure 2 2: Duplicate Participant Flow
The Duplicate Participant API will find any potential matches between the matching and initiating states.
Elements	Mandatory	Format	Length	Description
Last Name	Yes	Convert to plain text and lowercase	15	Individual's last name
Date of Birth	Yes	CCYY-MM-DD	10	Individual's DOB
Social Security Number	Yes	000-00-0000	11	Individual's SSN
Case Number	No	0000000000	09 or 10	FLORIDA case number or application number
Search Reason	Yes	Alpha Numeric	N/A	Search Options:
Application, Recertification, New Household Member, or Other
Vulnerable Individual	Yes	True or False	4 or 5	True or False
Participant ID	No	0000000000	10	Individual’s PIN or 
Individual Number
Table 2 4: Duplicate Participant API Request
The following below are details which will be returned as part of the Duplicate Participant API.
Elements	Format	Length	Description
Match State	Alpha Numeric	NA	The state where the match is found
Match ID	0000000	7	Unique identifier for the match. Generated by the NAC system a found.
Case Number	0000000000	10	Participant's state-specific case identifier. Can be the same for multiple participants.
Participant ID	0000000000	10	Participant's state-specific identifier. Unique to the participant. Must not include social security number or other identifying information used outside of the benefits eligibility context.
Vulnerable Individual Flag	True or False	4 or 5	Location protection flag for vulnerable individuals. True values indicate that the individual’s location must be protected from disclosure to avoid harm to the individual. Apply the same protections to true and null values.
Recent Certification Months	CCYY-MM-DD	10	Collection of up to 3 date ranges that participant has been receiving benefits at the time the match was found.
Participation Closing Date	CCYY-MM-DD	10	Date when the Participant's case will close. This will be the last date the participant is eligible to receive benefits.
Table 2 5: Duplicate Participant API Response

NAC Duplicate Participant API V2 Request and Response Sample:
 
2.1.1.3	Match Resolution API
The Match Resolution API is a nightly batch process to call NAC service and retrieve the match and resolution updates for NAC duplicate participants and send the information to the client Reporting system.  

 
Figure 2 3: Match Resolution
The Get Match’s API is invoked to search for all existing matches in the NAC database. The following details will be sent as part of the Get Match for the Match Resolution API.
Elements	Mandatory	Format	Length	Description
Location	Yes	Alpha Numeric	2	FL
Page	No	Alpha Numeric	10	The page of results being requested. By default, Get Matches returns 10 results per page.
PerPage	No	Alpha Numeric	10	The number of items we want returned per page
SortColumn	No	Alpha Numeric	10	Filter by the source of the match (Query, MBM)
SortAscending	NO	Alpha Numeric	10	The field to sort the matches returned by. Options are Match Status(status), State Resolution status (resolution), Created At (date), Match Id (matchid), MBM or Query made(source), state(state)
Table 2 6: Match Resolution Request
The following below are details which will be returned as part of the Matches API.
 
NAC Get Matches V1 Request and Response Sample:
 

2.1.2	Customer Portal
The Customer Portal Post E-sign process will be modified to place the new individuals in a NAC queue. The NAC Duplicate Participant API will then be invoked from NAC queue, when a customer submits a application, renewal, or add benefit that includes a SNAP benefit request. The following criteria must be met to invoke the NAC service:
•	Applicant is requesting SNAP benefits.
•	SSN, DOB, and Last Name are present for the individual in the application request.
•	Meets Verification requirements for SSN, residency, and identity.
o	Individual’s SSN is verified through the SSA Interface.
o	Individual has a Florida Living Address or responds “yes” to Florida resident.
o	The applicant was successfully authenticated, and ID was verified. The Authentication and ID verification is performed at the applicant level. If the applicant is successfully authenticated and their Identity is verified, the system will invoke the NAC Duplicate Participant API for the individuals in the FS application based on the results of the primary applicant. 
Once an individual meets the criteria for the NAC Interface, Customer Portal will also check if the individual is considered ‘vulnerable’. If so, the individual will be marked as vulnerable in the NAC Request. The NAC Interface process will check the SNAP applicant’s living situation and response to the question ‘Do you feel that your current living situation is unsafe for you or another household member, for any reason?’ to determine the value that should be sent for the vulnerable individual indicator. 
The below screenshot displays the existing Customer Portal screen that will be used to capture if the Living Situation for a SNAP applicant is entered as ‘Battered Woman Shelter’. 
 
Figure 2 4: Living Situation
Below displays the existing Customer Portal screen that will be used to capture if a SNAP applicant or other household members answer ‘Yes’ to the question ‘Do you feel that your current living situation is unsafe for you or another household member, for any reason?’. 
 
Figure 2 5: Living Situation is Unsafe
The following criteria will be used to determine if an individual and/or household should be listed as ‘vulnerable’ in the Duplicate Participant API request. 
Household Situation Response	‘Do you feel that your current living situation is unsafe for you or another household member, for any reason?’ Response	Vulnerable Individual value sent in Duplicate Participant API
Battered Woman Shelter 	Y	True
Battered Woman Shelter	N	True
Response other than ‘Battered Woman Shelter’	Y	True
Response other than ‘Battered Woman Shelter’	N	False
Table 2 7: Vulnerable Individual Logic
2.1.3	Worker Portal
The Work Item Detail and Application Summary pages will be modified to display the following alert when a NAC Match is returned for at least one individual in a SNAP application, renewal, or add benefit as a result of the Duplicate Participant API:
•	Receiving SNAP benefits in another state
 
Figure 2 6: Work Item Detail Page – NAC Alert
 
Figure 2 7: Application Summary – NAC Alert
Based on FNS guidelines to invoke the NAC Duplicate Participant API, SNAP applicants must have the following information verified Identity, Residency, and SSN. To achieve this, the system will use the:
•	ID verification result for the SNAP application to determine if the primary individual has been authenticated and their identity is verified. The results must be “ID Discovered” and “Authenticated” to invoke the NAC Duplicate Participant API. The customer authentication and ID verification is performed on the primary applicant only. If the applicant is successfully authenticated and their Identity is verified, the system will invoke the NAC Duplicate Participant API for all the individuals in the FS application based on the results of the primary applicant.  
•	The living address is listed as a Florida address or the FL Residency field in ACCESS Application displays as “yes”. 
•	The Social Security Administration (SSA) Interface response for the individual’s SSN is ‘verified’.  
The images below display where the Verification criteria is shown in the Application Summary.
 
Figure 2 8: ID Discovered and Authenticated Alert
  
Figure 2 9: FLORIDA Resident Field 
  
Figure 2 10: Social Security Administration Verification
The Verification Details page will be modified to display a new section titled ‘NAC Duplicate Participant (SNAP)’. This section will display the results from the NAC Duplicate Participant API for SNAP applicants. Each member in the SNAP application, renewal, or add benefit will be listed along with their DOB, SSN, Vulnerable Indicator flag, Match Response, and Comments. When a match is returned workers will be able to expand the section and view additional Match Details returned from NAC. This section will display the following details:
•	Match ID - Unique ID created by NAC for the matched record.
•	Matching State – The state where the individual is receiving SNAP benefits.
•	Matching State Phone Number – The matching state contact number. 
•	Matching State Email Address – The matching state contact email. 
If more than one match is returned, an addition row will display in the detail section. If a match is not returned, a technical error occurs or the individual does not meet criteria to invoke NAC, the detail section will not display. 
 
Figure 2 11: NAC Duplicate Participant
The Matching State Phone Number and Matching State Email Address details will come in the nightly batch process for Get Match Details. The table below depicts the details for displaying the Match Responses:
Match Response	Details	Comments
Match	A NAC match is found. A record will display for each matching state when multiple matches are returned for an individual.  	N/A
No Match	A NAC match is not found.	N/A
N/A	Individual is not applying for SNAP, or individual does not meet criteria for NAC Duplicate Participant query. 	•	SSN not provided.
•	DOB not provided.
•	Not applying for SNAP
•	Not a Florida Resident
•	SSN not verified.
•	ID not verified.
•	Not authenticated
Technical Error	Technical issue when invoking the service. The call was not successfully made.	N/A
Table 2 8: Match Response
2.1.4	Notices
Once the Duplicate Participant API is invoked and a match is found. The system will automatically generate a NAC pending notice to be sent to the SNAP applicant. The NAC Pending notice will be generated at the application level, only one notice will be sent per application regardless of the number of NAC matches returned. 
  
Figure 2 12: NAC Pending Notice Request
The new NAC Pending Notice will be sent out in English, Spanish, or Creole based on the customer’s notification language and notice will be mailed or emailed based on the customer’s notification preference. The notice uses the existing WP notice template and footer pages. The notice will include the following variable text:
•	A name variable will be added to the notice in four places that will insert the First and Last Names of the individuals who returned a NAC Match. When multiple matches are returned for a single application, each name will be inserted and separated by a comma. (Example: John Smith, Lisa Smith). The process can insert up to 24 names in a single notice. 
•	A date variable will be added to the notice in one place to include the due date, the due date calculation will be the “mail date plus 10 business days”. If the date falls on a weekend or holiday, the due date will be moved to the next business day.  
•	A case number and application number variable will be added to one place in the notice, this field will display the corresponding case number for the application. If a case number is not known, the application number will be inserted to the notice.  
A new notice type ‘NACM P1’ will be created for the NAC Pending Notice.  Below is the draft NAC Pending Notice text and layout received. 
 
Figure 2 13: NAC Pending Notice (English) – Page 1 
 
Figure 2 14: NAC Pending Notice (English) – Page 2
3	Technical Design Approach
3.1	SQL Loader - PROC_NAC_EXTRACT_DATA
This procedure will extract data from the FLODS DB into the NAC Schema on ACCESS DB, retrieving the following fields: First Name, Last Name, Middle Initial, Social Security Number, Date of Birth, Case Number, PIN, and Type Code (To Check Living Arrangement Status). The data will be selected from the tables individual_eligibility_t, individual_t, living_arrangement_t, and case_t tables based on the following conditions:
•	The eligibility program code is Food Stamp (elg.program_code = 'FS')
•	Emergency food stamp is not in ‘X’ and food stamp benefit is ‘X’ (bs.efs_benefit_flag not in ('X') 
      AND bs.FOOD_STAMP_BENEFIT_FLAG in ('X')
•	The history code is current record (elg.history_code = 0)
•	The segment status code is Active (elg.segment_status_code = 'A')
•	The AG status code is Open (elg.ag_status_code = 'O')
•	The eligibility status code is Pass (elg.eligibility_status_code = 'P')
•	The participation status code 1 is Eligible (elg.participation_status_code_1 = 'E')
•	The eligibility begin date is on or before the last day of the current month (trunc(elg.eligibility_begin_date) <= last_day(trunc(sysdate)))
•	The eligibility end date is on or after the last day of the current month (trunc(nvl(elg.eligibility_end_date, last_day(sysdate))) >= last_day(trunc(sysdate)))
This ensures that only records meeting all specified criteria are extracted for further processing. 
The extracted records are stored in the FLODS_EXTRACTED_T table in NAC schema on ACCESS DB.
3.2	Interfaces
The NAC Interface is used to determine if SNAP applicants or recipients are applying for or receiving benefits in another state.
3.2.1	Bulk Upload API
3.2.1.1	Description
This is a daily upload process that is sent to NAC and includes all active SNAP in Florida. The process will check if the individual meets demographic requirements to be sent to NAC.
3.2.1.2	Requirements
System Requirement ID	System Requirement
18200	The system will send all open Food Assistance recipients in FLORIDA in the daily Bulk Upload Application Programming Interface (API) to National Accuracy Clearinghouse (NAC). 
18201	The system will send the following elements in the daily Bulk Upload API for an individual:
Last Name, 
Date of Birth (DOB), 
Social Security Number (SSN), 
Vulnerability Information (VI), 
Case Number, 
Participant ID (FLORIDA PIN), 
Participant Closing Date (if applicable), 
Recent Certification Months (up to 3 months)
18202	The daily Bulk Upload API request will be sent at the individual level. 
18203	The system will check that the following criteria is meet before invoking the daily Bulk Upload API for an individual. 
1. Recipient is receiving regular SNAP benefits
2. An SSN is present for the eligible member on AIID 
18204	The system will normalize, concatenate, and hash the SNAP recipient's Personally Identifiable Information (PII) data (Last Name, DOB, SSN) in the daily Bulk Upload API to NAC. 
18205	The system will send the Vulnerable Individual indicator as "TRUE" in the daily Bulk Upload API when the SNAP recipient's living arrangement is "12" (Battered Shelter). 
18206	The system will send the Vulnerable Individual indicator as "FALSE" in the daily Bulk Upload API when the SNAP recipient's living arrangement is any code other than "12" (Battered Shelter). 
18207	The system will receive an acknowledgement back from NAC with the status of the daily Bulk Upload. 
COMPLETE
FAILED
UPLOADING
Table 3 1: Requirements – Bulk Upload
3.2.1.3	Technical Design
Operation Id	Operation description
upload_all_participants	Upload SNAP participants CSV file to NAC
Get-Upload-Details	Get file upload status
Table 3 2: Bulk Upload APIs
3.2.1.3.1	Upload All Participants
3.2.1.3.1.1	Description
•	Bulk Upload API Batch Process Overview
The Bulk Upload API Batch process orchestrates the end-to-end workflow for uploading participant data to the NAC server via MuleSoft, ensuring secure handling of personally identifiable information (PII) and robust tracking of each upload transaction.
•	Process Initiation
The batch process invokes the MuleSoft upload process (upload_all_participants) to upload a .csv file containing participant data to the NAC server.
Upon successful upload, NAC returns a response containing a unique upload identifier.
The MuleSoft process captures this upload identifier and stores it in the CLIENT.AUDIT_SERVICE_T table on ACCESS DB for audit and tracking purposes. 
An email notification indicating success or failure is sent to DCF stakeholders.
•	Data Preparation and Hashing
The process counts the number of records to be hashed and retrieves records from the FLODS_EXTRACTED_T table.
Retrieved records undergo normalization rules for PII fields. Refer to Section 4 for further details. 
The PPRL (Privacy-Preserving Record Linkage) process is applied to generate hash IDs for the records.
The hashed and normalized data is loaded back into the FLODS_EXTRACTED_T table.
The processed data is then exported to a CSV file named in the format FL_BulkUpload_yyyyMMdd.csv and stored in a designated output directory on a shared location.
•	File Handling and Upload
Once the CSV file is created, a web handler detects the file and logs the upload request in the BULK_REQ_T table, including the file name.
The web handler sends the request to a web service, which invokes the MuleSoft API for file upload.
MuleSoft records the request in an audit table and forwards the file to the NAC server.
Upon receiving a response from NAC, MuleSoft logs the response in the audit table and returns the response to the web handler.
•	Response Processing
The web handler processes the response from MuleSoft and stores the acknowledgment in the BULK_ACK_RESPONSE_T table within the NAC schema.
3.2.1.3.1.2	Screen Modifications
N/A
3.2.1.3.1.3	Component Catalog
Component	Type	Description	Comments
NacDataExtractDAO.java	Java interface	This class will provide the methods to insert/update and read data from the database	New
BulkUploadDao.java	Java interface	This class will provide the methods to insert/update from request/response data and save to database	New
NacDataExtractDAOImpl.java	Java Class 	Implementation of the above class	New 
BulkUploadDaoImpl.java	Java Class	Implementation of the above class	New 
BulkUploadAPIMain.java	Java Class	This is the main class for the Bulk Upload API 	New
HashAndWriteServiceImpl.java	Java Class	Implementation of the below class  	New
HashAndWriteService.java	Java interface	This is service interface which is used to do LDS hash and writes to CSV file	New
BulkUploadSQLQueries.java	Java Class	It is the Utility class which has all the SQL queries 	New
BulkUploadWebService.java	Java interface	It is the web Handler interface which send and receive the Request and Response and stores to DB	New

BulkUploadWebServiceImpl.java	Java Class	Implementation of the above class  	New
Table 3 3: Component Catalog – Bulk upload
Bulk Upload Data Mapping:
 
Example.csv
 
3.2.1.3.2	Get Upload Details

3.2.1.3.2.1	Description
After receiving the bulk upload file from Florida, the NAC system requires approximately 30 to 60 minutes to validate and load the file onto the NAC server.
Upon receiving the upload_id in the response from the upload_all_participants endpoint, a batch process is initiated to monitor the status of the file upload. This monitoring process is scheduled to run 30 minutes after the upload_id is received, at which point it invokes the bulk upload API’s uploads endpoint to retrieve the status of the file associated with the specified upload_id.
The Batch job invokes Get Uploads Details API (/uploads) through Mule Soft. The response from the upload’s endpoint provides detailed information regarding the upload status. If the status returned is “UPLOADING,” an automated retry mechanism is triggered. The system will attempt to retrieve the updated status up to five times, with a five-minute interval between each attempt. If, after all retry attempts, the status remains “UPLOADING,” this status is recorded in the database as the process status. However, if the status is updated at any point during the retry process, the updated process status (Complete or Failed) is stored in the database accordingly.
3.2.1.3.2.2	Component Catalog
Component	Type	Description	Comments
NacDataExtractDAO.java	Java interface	This class will provide the methods to insert/update and read data from the database	New
BulkUploadDao.java	Java interface	This class will provide the methods to insert/update from request/response data and save to database	New
NacDataExtractDAOImpl.java	Java Class 	Implementation of the above class	New 
BulkUploadDaoImpl.java	Java Class	Implementation of the above class	New 
 BulkUploadAPIMain.java	Java Class	This is the main class for the Bulk Upload API 	New
 HashAndWriteServiceImpl.java	Java Class	Implementation of the below class  	New
 HashAndWriteService.java	Java interface	This is service interface which is used to do LDS hash and writes to CSV file	New
 BulkUploadSQLQueries.java	Java Class	It is the Utility class which has all the SQL queries 	New
BulkUploadWebService.java	Java interface	It is the web Handler interface which send and receive the Request and Response and stores to DB	New

BulkUploadWebServiceImpl.java	Java Class	Implementation of the above class  	New
Table 3 4: Bulk Upload Component Catalog
3.2.2	Duplicate Participant API
3.2.2.1	Description
This is a real-time query from Customer Portal to NAC to check if individual’s submitting SNAP applications (including Initial Applications, Renewals, and Add Benefits) are currently receiving benefits in another state. 
3.2.2.2	Requirements
System Requirement ID	System Requirement
18210	The system will normalize, concatenate, and hash the SNAP recipient's Personally Identifiable Information (PII) data (Last Name, DOB, SSN) in the NAC Duplicate Participant API. 
18211	The system will invoke the nightly Match Resolution API retrieve the match and resolution updates for NAC duplicate participants for the state of Florida. 
18212	The system will send the Vulnerable Individual indicator as "TRUE" in the NAC Duplicate Participant API when the SNAP applicant's living situation is entered as "Battered Woman Shelter" in the Customer Portal application, renewal, or add benefit request. 
18213	The system will send the Vulnerable Individual indicator as "TRUE" in the NAC Duplicate Participant API for all individuals in the SNAP application when the answer to ‘Do you feel that your current living situation is unsafe for you or another family member, for any reason?' is marked as "Yes" in the Customer Portal application, renewal, or add benefit request. 
18214	The system will send the Vulnerable Individual indicator as "FALSE" in the NAC Duplicate Participant API when: 
1. the living situation is not "Battered Woman Shelter", and
2. the answer is "No" for question "Do you feel that your current living situation is unsafe for you or another family member, for any reason?"
18215	The system will send the following elements in the NAC Duplicate Participant API request for an individual:
Last Name
Date of Birth
Social Security Number
Case Number
Search Reason
Vulnerable Individual
Participant ID
18216	The system will receive NAC Duplicate Participant responses with the following elements:
Match State
Match ID
Case Number
Participant ID
Vulnerable Individual Flag
Recent Certification Months
Participation Closing Date
Table 3 5: Duplicate Participant Requirements
3.2.2.3	Technical Design
3.2.2.3.1	Description
Service Invocation and Scheduling
The NAC Duplicate Participation service is designed to retrieve SNAP duplicate participation details for individuals applying through the Customer Portal. This is implemented as a near real-time batch job, scheduled to execute every five minutes. The NAC Duplicate Participation Query API is invoked exclusively in the following SNAP application types: Initial Application, Add Benefits, and Renewal.
Duplicate Participation Query Logic
When the Duplicate Participation Query API is triggered from the Customer Portal, the system searches the NAC database for any duplicate SNAP participation records in other states.
An applicant is verified against the NAC database only if all the following conditions are met:
1.	SSN, Date of birth, and last name are present for the indivdiual
2.	The individual’s SSN is successfully verified through SSA.
3.	The individual has a Florida residential address or has indicated “yes” to being a Florida resident.
4.	The individual has been successfully authenticated.
If all three conditions are satisfied, the applicant’s data is loaded into the DPAPI_Request_T table within the NAC schema on the Access database.
If any of the above checks fail, the application is provided with comments indicating the reason for failure, and the NAC_VERIFY_FLAG is set to 'F'.
Vulnerable Individuals Logic
The following criteria will be used to determine if an individual and/or household should be listed as ‘vulnerable’ in the Duplicate Participant API request. 
Household Situation Response	‘Do you feel that your current living situation is unsafe for you or another household member, for any reason?’ Response	Vulnerable Individual value sent in Duplicate Participant API
Battered Woman Shelter 	Y	True
Battered Woman Shelter	N	True
Response other than ‘Battered Woman Shelter’	Y	True
Response other than ‘Battered Woman Shelter’	N	False
Table 3 6: Vulnerable Individual Logic
Batch Processing and Thread Management
The batch job monitors the DPAPI_Request_T table for PII and other NAC request data where PROCESS_STATUS is either 'INT' or 'RPC' and NAC_VERIFY_FLAG is 'T'. For eligible records, processing threads are created as follows: 
The batch process will leverage a configurable pool of threads, each assigned to process a portion of the application workload. This approach will enable scalable and efficient data processing while respecting system-defined concurrency constraints.
Each thread retrieves records, performs LDS hashing on PII data (Refer to Section 4 for further details), and sets all request data. The request and response data are mapped (DTO to schema) and processed through MuleSoft. Results are stored in the following tables:
DAPI_RESPONSE_T
DAPI_RESPONSE_RECENT_BENEFIT_ISSUANCE_DATES
DAPI_RESPONSE_ERRORS_T
Handling Find Matches Response:
If a NAC duplicate match is found in response:
An alert is created for the application in the ACCESS_ALERT_T Table on CLIENT Schema, then record in the DPAPI_Request_T table PROCESS_STATUS is updated to ‘PRC’ and Comments is updated “Match Found”
Match details are displayed in the Worker Portal Verification Details screen under the NAC Duplicate Participant (SNAP)section. 
If no NAC duplicate match is found, No alert is created and record in the DPAPI_Request_T table PROCESS_STATUS is updated to ‘PRC’ and Comments is updated “No Match”.
Error Handling and Retry Logic
If the NAC Duplicate Participation service call fails for the first time the record in the DPAPI_Request_T table PROCESS_STATUS is updated to ‘RPC’, and batch re- processes up to three times. If all three attempts fail, the record is marked with a “Technical Error” in the Comments Field in DPAPI_Request_T and PROCESS_STATUS is updated to ‘EXC’ status.
3.2.2.3.2	Component Catalog
Component	Type	Description	Comments
DpAPIRequestDAO.java	Java interface	This class have methos that get all the Request Elements form the Data Base.	New
DpAPIRequestDAOImpl.java	Java Class	Implementation of above class 	New
DpAPIResponseDAO.java	Java interface	This class have methods that saves all Response and updates all the process status 	New
DpAPIResponseDAOImpl.java	Java Class	Implementation of above class	New
ProcessDAO.java	Java interface	This class has the methods that get the count and records that are yet to process  	New
ProcessDAOImpl.java	Java Class	Implementation of above class	New
CallProcess.java	Java Class	This is the main class 	New
DpAPIThread.java	Java Class	This the Thread class with will call the service class 	New
HashAndBuildRequestService.java	Java interface	This class has the methods to do LDS for PII information hash and forms the request. 	New
HashAndBuildRequestServiceImpl.java	Java Class	Implementation of above class 	New
DpAPIWebService.java	Java interface	This is the Web Handler that has methods to process the request and call Web service and process the response then stores the response. 	New
DpAPIWebServiceImpl.java	Java Class	Implementation of above class 	New
Table 3 7: Duplicate Participant Component Catalog
3.2.3	Match Resolution API
3.2.3.1	Description
This is a nightly batch process to call NAC service and retrieve the match and resolution updates for State of Florida recipients and display in the new Power BI Report. 
3.2.3.2	Requirements
System Requirement ID	System Requirement
18211	The system will invoke the nightly Match Resolution API retrieve the match and resolution updates for NAC duplicate participants for the state of Florida. 
18224	The system will retrieve the Matching State Phone Number and Matching State Email Address for a match from the night Get Match Detail batch process.  
Table 3 8: Match Resolution Requirements
3.2.3.3	Technical Design
3.2.3.3.1	Description
This batch process is designed to interface with the Match Resolution service by invoking the "Get Matches" method through MuleSoft. Its primary objective is to retrieve all matches where Florida is matching as well as initiating state. The process leverages a paginated API, ensuring efficient retrieval and processing of large data sets. 
Initial API Invocation for Record Count
The process begins with an initial API call to the Match Resolution service. This call includes a specified per-page parameter, which determines the number of records to be retrieved per API response.
The response from this initial call provides the total number of available records matching the criteria.
Using the total record count and the per-page value, the total number of pages required for complete data retrieval is calculated.
Parallel Execution Using Executor Threads
To optimize performance and reduce processing time, the batch process utilizes multiple executor threads.
Each thread is responsible for invoking the API for a specific page number, incrementing the page count with each subsequent call.
Threads operate concurrently, enabling parallel data retrieval across multiple pages.
API Data Retrieval and Mapping
For each page, the corresponding thread calls the Match Resolution API, passing the appropriate per-page and page parameters.
The API response is parsed, and the returned data is mapped to a predefined Response Data Transfer Object (DTO) structure.
This mapping ensures consistency and facilitates downstream processing.
Persistence to Database
Once the response data is mapped to the DTO, it is persisted to the database and extracted for reporting. 
3.2.3.3.2	Component Catalog
Component	Type	Description	Comments
MatchDAO.java	Java interface	This class have methods that save all the Response Elements form the Data Base 	New
MatchDAOImpl.java	Java Class	Implementation of above class 	New
NacMain.java	Java Class	This is the main class  	New
GetMatchesAPIService.java	Java interface	This class have methods that forms the request by checking the per-page value.	New
GetMatchesAPIServiceImpl.java	Java Class	Implementation of above class	New
GMWebService.java	Java interface	This is web handler class that sends the request to Webservice and maps the response to DTO’s and saves to DB 	New
GMWebServiceImpl.java	Java Class	Implementation of above class	New
Table 3 9: Match Resolution Component Catalog
3.2.4	ESS-Common Changes
This is the Interface class for performing Personally Identifiable Information (PII) hashing and invoking APIs for the NAC Batch Processes. The interface layer will be implemented as a common package (dependency JAR) to be used across all NAC Batch Processes. It will utilize Section4 LDSHash for hashing and expose web service methods to interact with the NAC service via MuleSoft. The interface layer will expose methods that internally call MuleSoft APIs.
3.2.4.1	Component Catalog
Component	Type	Description	Comments
LDSHashServiceImpl.java	Java Class	Implementation of bellow class	New
LDSHashService.java	Java interface	This class has pprlHash function which implement LDS Hash based on the Section4 conditions 	New
BulkUploadServiceImpl.java	Java Class	Implementation of bellow class	New
BulkUploadService.java	Java interface	New service class to call NAC service using the following methods: uploadAllParticipants
getUploadDetails	
DPAPIServiceImpl.java	Java Class	Implementation of bellow class	New
DPAPIService.java	Java interface	New service class to call NAC service using the following methods: findMatches	
MatchResolutionAPIServiceImpl.java	Java Class	Implementation of bellow class	New
MatchResolutionAPIService.java	Java interface	New service class to call NAC service using the following methods: getMatches	New
Table 3 10: ESS Common Component Catalog
3.2.5	MuleSoft Changes for NAC API
3.2.5.1	Description
This section documents the MuleSoft configuration changes that are to be made for Supporting the NAC. Bulk Upload API, Duplicate Participant API, and Match Resolution API.
3.2.5.2	Requirements
System Requirement ID	System Requirement
18200	The system will send all open Food Assistance recipients in FLORIDA in the daily Bulk Upload Application Programming Interface (API) to National Accuracy Clearinghouse (NAC). 
18207	The system will receive an acknowledgement back from NAC with the status of the daily Bulk Upload. 
 - COMPLETE
 - FAILED
 - UPLOADING
18208	The system will invoke the NAC Duplicate Participant API for each SNAP applicant who submits an initial application, renewal, or add benefit request in Customer Portal and the individual meets the demographic and verification requirements. 
18211	The system will invoke the nightly Match Resolution API retrieve the match and resolution updates for NAC duplicate participants for the state of Florida. 
Table 3 11: MuleSoft NAC Changes
3.2.5.3	Technical Design 
•	Create a new Process API fldcf-access-nac-papi 
o	Create new properties files (YAML files) for storing service end point of NAC URL's and request timeout properties for NAC services.
•	Create sub-process for Bulk Upload API - upload_all_participants.
o	Create a new Bulk Upload API (/%ENV%/fldcf-access-nac-papi/api/upload_all_participants) 
o	Insert request payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RQ’ and SERVICE_CODE as ‘NAC_BU’.
o	Invoke webservice hosted by NAC, compute (add the " Ocp-Apim-Subscription-Key”, " Content-Type", “Cache-Control”,” Filename” and “Content-Length”) as headers to the request and send response back to the client.
o	Insert response payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RS’ and SERVICE_CODE as NAC_BU’.
o	Update properties files (YAML files) to include service end point of NAC and request timeout property for the service.
•	Create sub-process for Bulk Upload API - uploads.
o	Create a new Bulk Upload API (/%ENV%/fldcf-access-nac-papi/api/uploads) 
o	Insert request payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RQ’ and SERVICE_CODE as ‘NAC_GU’.
o	Invoke webservice hosted by NAC, compute (add the " Ocp-Apim-Subscription-Key”, " Content-Type", “Cache-Control”,” Filename” and as headers to the request and send response back to the client.
o	Insert response payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RS’ and SERVICE_CODE as NAC_GU’.
o	Update properties files (YAML files) to include service end point of NAC and request timeout property for the service.
•	Create sub-process for Duplicate Participant API
o	Create a new Duplicate Participant API (/%ENV%/fldcf-access-nac-papi/api/find_matches) 
o	Insert request payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RQ’ and SERVICE_CODE as ‘NAC_DP’.
o	Invoke webservice hosted by NAC, compute (add the " Ocp-Apim-Subscription-Key”) as headers to the request and send response back to the client.
o	Insert response payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RS’ and SERVICE_CODE as NAC_DP.
o	Update properties files (YAML files) to include service end point of NAC and request timeout property for the service.
•	Create sub-process for Match Resolution API
o	Create a new Match Resolution API (/%ENV%/fldcf-access-nac-papi/api/matches) 
o	Insert request payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RQ’ and SERVICE_CODE as ‘NAC_GM’.
o	Invoke webservice hosted by NAC, compute (add the " Ocp-Apim-Subscription-Key”, " page ", “sort Colum”,” sort Ascending” and per Page) as headers to the request and send response back to the client.
o	Insert response payload to CLIENT.AUDIT_SERVICE_T table with SERVICE_TYPE_CODE as ‘RS’ and SERVICE_CODE as NAC_GM.
Update properties files (YAML files) to include service end point of NAC and request timeout property for the service
 
Figure 3 1: Mulesoft Architectural Diagram
3.2.5.3.1	Soft Dev URLs
Service	ENV	HTTP Method	FHK End Point URL
upload_all_participants	DEV	PUT	https://dev.integrate.myflfamilies.com/fldcf-access-nac-papi/api/upload_all_participants
uploads	DEV	GET	https://dev.integrate.myflfamilies.com/fldcf-access-nac-papi/api/uploads/{upload_identifier}
find_matches	DEV	POST	https://dev.integrate.myflfamilies.com/fldcf-access-nac-papi/api/find_matches
matches	DEV	GET	https://dev.integrate.myflfamilies.com/fldcf-access-nac-papi/api/matches
Table 3 12: MuleSoft Dev URLs

URL information for REST services
Service	HTTP Method	Internal URL Pattern
upload_all_participants	PUT	/ fldcf-access-nac-papi/api/upload_all_participants
uploads	GET	/fldcf-access-nac-papi/api/ uploads/{upload_identifier}
find_matches	POST	/fldcf-access-nac-papi/api/find_matches
matches	GET	/ fldcf-access-nac-papi/api/matches
Table 3 13: Rest Service URL Details
MuleSoft Host Details: 
ENV	MuleSoft Host
DEV	dev.integrate.myflfamilies.com
TEST	test.integrate.myflfamilies.com
UAT	uat.integrate.myflfamilies.com
STAGE	stage.integrate.myflfamilies.com
PROD	integrate.myflfamilies.com
Table 3 14: MuleSoft Host Details
3.3	Customer Portal
3.3.1	Description
The Customer Portal Post Esign process will be modified to place the new individuals in a NAC queue. The NAC Duplicate Participant API will then be invoked from NAC queue, when a customer submits a SNAP application. The NAC Interface will be invoked for initial applications, renewals, and add benefits. 
3.3.2	Requirements
System Requirement ID	System Requirement
18208	The system will invoke the NAC Duplicate Participant API for each SNAP applicant who submits an initial application, renewal, or add benefit request in Customer Portal and the individual meets the demographic and verification requirements. 
18209	The system will check that the following requirements are satisfied prior to invoking the NAC Duplicate Participant API:
1. Individual is applying the Food Assistance
2. Last Name, DOB, and SSN are provided in application (Initial Application, Renewal, Add Benefits)
3. Individual's SSN is verified through SSA Interface
4. Applicant is successfully Authenticated and ID verified
5. Applicant has a Florida Living Address or responds “yes” to Florida resident
Table 3 15: Customer Portal Requirements
3.3.3	Technical Design – Duplicate Participant API
The system will implement a validation process using the NAC Duplicate Participation Query API. This is done to detect and prevent individuals from enrolling in SNAP benefits in multiple states. This change applies for the SNAP application types: Initial Application, Add Benefit, and Renewal.
A new data validation flow will be added where:
A new API (/process-nac) will be validated.
Residency in Florida is confirmed. 
The individual is verified/authenticated successfully.
If any of the three checks fail, the system will still record the data in the DPAPI_Request_T table, with comments describing the reason for failure.
•	SSN Validation: Must validate the individual’s SSN using SSA Services.
•	Residency Check: Must verify if the individual has a Florida Address or answered “yes” to being a Florida resident.
•	Identity Verification: Must confirms that the individual has been successfully verified and authenticated.
•	Failure Logging: If any check fails, log the reason (e.g., SSN Not Found, not a Florida Resident”, “individual not authenticated”)
•	Data Persistence: Regardless of pass/fail results, data must be inserted into the DPAPI_Resquest_t table.
Component	Type	Description	Comments
FIRST_NAME	VARCHAR	The Indvidual's First Name	Will be taken from CLIENT.FLINDIVIDUAL
LAST_NAME	VARCHAR	The Indvidual's Last Name	Will be taken from CLIENT.FLINDIVIDUAL
DOB	VARCHAR	The Indvidual's DOB	Will be taken from CLIENT.FLINDIVIDUAL
SSN	VARCHAR	The Indvidual's SSN	Will be taken from CLIENT.FLINDIVIDUAL
PARTICIPANT_ID	VARCHAR	This is the Individual’s IdentificationNumber or PIN if individual is known to FLA	
CASE_NUMBER	VARCHAR	Saves Case Number of the individual, only if it is present	
SEARCH_REASON	VARCHAR	This is the application type, (i.e. AAP, RMB)	
VULNERABLE_INDIVIDUAL	Boolean	This column saves a Boolean value if the individual does not have optimum living condition. Default Value is False	
ACCESS_NUMBER	String	This is the Application Number of the Individual	
COMMENTS	String	Save the reason if any of the verification Fails. 	
NAC_VERIFY_FLAG	Boolean	Flag that states if the NAC verification passed/failed	
Table 3 16: Duplicate Participant from Customer Portal
MuleSoft:
NAC call to interface will be added in asynchronous after the post e-sign calls (even if the flow goes to the sqs queue) in fldcf-access-eligibilty-sapi.
 
Figure 3 2: Customer Portal MuleSoft
3.4	Worker Portal
3.4.1	Description
Worker Portal team needs to relay on for The Verification Details page, that will display the NAC Duplicate Participant results for the SNAP applicants under NAC Duplicate Participant section. 
Existing Interface hub API will retrieve the data required for the NAC Duplicate Participant section.
3.4.2	User Interface
 
Figure 3 3: Verification Details Screen for NAC



3.4.3	Requirements
System Requirement ID	System Requirement
18217	The system will display the following alert the Work Item Information page and Application Summary page in Worker Portal when a NAC match is returned for a SNAP application, renewal, or add benefit request:
Receiving SNAP benefits in another state
18218	The system will display a new section titled "NAC Duplicate Participant (SNAP)" that will display the results from the NAC Duplicate Participant API. 
18219	The system will display the following details in the "NAC Duplicate Participant (SNAP)" section:
Name
DOB
SSN
Vulnerable Individual
Match Response
Comments
18220	The system will display an expanded section for the "NAC Duplicate Participant (SNAP)" when a Match is returned:
Match ID
Matching State
Matching State Phone Number
Matching State Email Address
18221	The system will display the following Match responses:
Match, No Match, N/A, and Technical Error
18222	The system will display a comment for a record in the "NAC Duplicate Participant (SNAP)" when the NAC Duplicate Participant API is not invoked:
SSN not provided
DOB not provided
Not applying for SNAP
Not a Florida Resident
SSN not verified
ID not verified
Not authenticated
18223	The system will retrieve the Match ID and Matching State details from the "NAC Duplicate Participant (SNAP)" match response, when a match is returned. 
18224	The system will retrieve the Matching State Phone Number and Matching State Email Address for a match from the night Get Match Detail batch process.  
Table 3 17: Worker Portal Requirements
3.4.5	Technical Design
3.4.5.1	Description

From the application Summary when Verification Details button is clicked, or Application Summary view verification button will navigate Verification Details screen. When specific section is selected from the dropdown, related section will be displayed.
Data will be retrieved from below listed tables:
1.	DPAPI_Request_t
2.	DAPI_Response_t
3.	GET_MATCHES_RESPONSE_T
Data Persistence: Regardless of pass/fail results, data fetched from DPAPI_Resquest_t table.
3.4.5.2	componentCatalog
Component	Type	Description	Comments
FIRST_NAME	VARCHAR	The Indvidual's First Name	Will be taken from CLIENT.FLINDIVIDUAL
LAST_NAME	VARCHAR	The Indvidual's Last Name	Will be taken from CLIENT.FLINDIVIDUAL
DOB	VARCHAR	The Indvidual's DOB	Will be taken from CLIENT.FLINDIVIDUAL
SSN	VARCHAR	The Indvidual's SSN	Will be taken from CLIENT.FLINDIVIDUAL
PARTICIPANT_ID	VARCHAR	This is the Individual’s IdentificationNumber	
CASE_NUMBER	VARCHAR	Saves Case Number of the individual, only if it is present	
SEARCH_REASON	VARCHAR	This is the application type, (i.e. AAP, RMB)	
VULNERABLE_INDIVIDUAL	Boolean	This column saves a Boolean value if the individual does not have optimum living condition. Default Value is F	
ACCESS_NUMBER	String	This is the Application Number of the Individual	
COMMENTS	String	1.SSN not provided
2.DOB not provided
3.Not applying for SNAP
4.Not a Florida Resident
5.SSN not verified
6.ID not verified
7.Not authenticated	
NAC_VERIFY_FLAG	Boolean	Flag that states if the NAC verification passed/failed	
Table 3 18: DAPI_REQUEST_T table
3.5	Notices
3.5.1	Description
Once the Duplicate Participant API is invoked and a match is found. The system will create a work item and a NAC pending notice will be sent to the notice queue. 
3.5.2	User Interface
N/A
3.5.3	Requirements
3.5.3.1	ExStream Changes
3.5.3.1.1	Technical Design
 In ExStream software, the “IMS Application” will be modified to add new page “NAC_Pending”. A new version of PUB will be created.
3.5.3.1.2		Component Catalog
Component	Type	Description	Comments
IMS Application.xob	XOB	IMS Appication	Existing

Table 3 20: Notices Component Catalog
3.5.3.2	JAVA Chages
3.5.3.2.1	Technical Design 
For NAC Notices we will modify existing class to concatenate all the individuals First and Last Name with comma separated in the Notice Extractor class and modify the notice date plus 10 days logic. 
3.5.3.2.2		Component Catalog
Component	Type	Description	Comments
ClientNoticesServiceImpl	Java	Modify the class to add the individuals First and Last Name with comma separated and Notice date plus 10 days 	Existing

4	PII-Normalization, Concatenation, and Hashing.
To comply with FNS guidelines for PII handling, the following logic will be applied when submitting PII details using the NAC Interface APIs:
1.	Apply Last Name Normalization Rules in the same order below.
•	Convert to lower case.
•	Replace hyphens with a space.
•	Replace multiple spaces with one space.
•	Trim any spaces at the start and end of the last name.
•	Remove suffixes (only removes a single suffix at the end of the name):
o	Roman numerals i-ix
o	Variations of junior: junior, jr, jr., jnr
o	Variations of senior: senior, sr, sr., snr 
•	Remove any character that is not an ASCII space (0x20) or in the range [a-z].
•	Validate that the resulting value is at least one ASCII character in length.
Input	Correct Normalization Result
Hooper	hooper
Von Neuman	Von neuman
O’Sullivan	osullivan
Jones-Drew	Jones drew
Nguyen	nguyen
Table 4 1: Valid Names
2.	DOB Normalization:
Convert DOB to YYYY-MM-DD format. MM and DD must be zero padded.
Input	Correct Normalization Result
04-Sep-08	2008-09-04
21-Oct-83	1983-10-21
16-Jun-14	2014-06-16
Table 4 2: Valid DOB Values
3.	SSN Normalization:
•	SSN must be in AAA-GG-SSSS format where AAA is the Areas number, GG is the Group number, and SSSS is the serial number.
•	Following Social Security Administration (SSA) rules apply to SSN.
o	Area numbers 000, 666, and 900-999 are invalid.
o	Group number 00 is invalid.
o	Serial number 0000 is invalid.
Input	Correct Normalization Result
068122014	068-12-2014
228145280	Von 228-14-5280
582967410	582—96-7410
Table 4 3: Valid SSN values
4.	Concatenation: 
Concatenate Normalized Last Name, DOB, SSN using a comma separator.
Sample Concatenation String
neuman,1982-05-03,123-45-6789
Table 4 4: Concatenation
5.	Hashing:
Apply PPRL function on the concatenated PII string (from 4) to generate a unique SHA-512 Hash id for all the selected participants.
Sample Concatenation String	Secured LDS hash in SHA-512 format
neuman,1982-05-03,123-45-6789	bb949389cff4ecb213d423b1625a524f4d1506c649f200e04a522fb1fb6a1bf30e2381a43b43b96b4414667020d2c2061817daeaf94c28a057e4f9afaa6842bd
Table 4 5: Hashing
5	Database Tables
5.1	Design
The following new tables will be created with new schema NAC in the ACCESS database:
•	FLODS_EXTRACTED_T
•	 BULK_REQ_T
•	 BULK_ACK_RESPONSE_T
•	BULK_UPLOADED_DETAILS_T
•	DPAPI_REQUEST_T
•	DAPI_RESPONSE_T
•	DAPI_RESPONSE_RECENT_BENEFIT_ISSUANCE_DATES
•	DAPI_RESPONSE_ERRORS_T
•	GET_MATCHES_RESPONSE_T
5.2	Table Information
Field Name	Data Type	Nullable	Default Value	Comments
NAC_REQ_ID	NUMBER	No	NAC.NAC_REQ_ID_SEQ.NEXTVAL 	Its Sequence Id 
CASE_NUMBER	NUMBER	No		Application Case Number in FLODS
INDV_PIN	NUMBER	No		Induvial Pin
LAST_NAME	VARCHAR2(50 BYTE)	No		Induvial Last Name
FIRST_NAME	VARCHAR2(50 BYTE)	No		Induvial First Name
MIDDLE_INITIAL	CHAR(1 BYTE)	Yes		Induvial Middle Initial 
SSN	VARCHAR2(9 BYTE)	No		Induvial Social Security Number
DOB	DATE	No		Induvial Date of Birth 
PARTICIPANT_CLOSING_DATE	DATE	Yes		Benefits Closing Date
VULNERABILITY	CHAR(2 BYTE)	Yes		Induvial Type Code If it 12 then true else false
RECENT_CERTIFICATION_MONTHS	VARCHAR2(200 BYTE)	Yes		Calculated Field based on the participant closing Date
RECORD_INSERTED_BY	VARCHAR2(50 BYTE)	Yes		AUDITING
RECORD_INSERTED_DATE	DATE	Yes		AUDITING
RECORD_UPDATED_BY	VARCHAR2(50 BYTE)	Yes		AUDITING
RECORD_UPDATED_DATE	DATE	Yes		AUDITING
LDS_HASH	VARCHAR2(4000 BYTE)	Yes		One PII is hashed the value is stored. 
Table 5 1: FLODS_EXTRACTED_T


Field Name	Data Type	Nullable	Default Value	Comments
BULK_REQ_ID	NUMBER	No	NAC.BULK_REQ_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key 
REFERRAL_ID	VARCHAR2(50 BYTE)	Yes		“NAC_BULK”
REQ_FILE_NAME	VARCHAR2(200 BYTE)	Yes		Uploaded File Name 
RECORD_CREATED_BY	VARCHAR2(50 BYTE)	Yes		AUDITING
RECORD_CREATED_DATE	DATE	Yes		AUDITING
PROCESS_STATUS	VARCHAR2(20 BYTE)	Yes		“INT”,”PRC”,”EXC”
RECORD_UPDATED_DATE	DATE	Yes		AUDITING
RECORD_UPDATED_BY	VARCHAR2(20 BYTE)	Yes		AUDITING
Table 5 2: BULK_REQ_T


Field Name	Data Type	Nullable	Default Value	Comments
BULK_RES_ID	NUMBER	No	NAC.BULK_RES_ID_SEQ.NEXTVAL 	Sequence Generator PK 
BULK_REQ_ID	NUMBER	Yes		Foreign Key 
UPLOAD_ID	VARCHAR2(200 BYTE)	Yes		The Upload ID retrieved from a bulk upload
STATUS	VARCHAR2(50 BYTE)	Yes		API Response Error Status 

MESSAGE	VARCHAR2(2000 BYTE)	Yes		API Response Error Status Message

RECORD_CREATED_DATE	DATE	No		AUDITING
FILE_NAME	VARCHAR2(100 BYTE)	Yes		Name of file being uploaded
Table 5 3: BULK_ACK_RESPONSE_T

Field Name	Data Type	Nullable	Default Value	Comments
NAC_UPLOAD_ID_RES	NUMBER	No	NAC.NAC_UPLOAD_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key
UPLOAD_ID	VARCHAR2(200 BYTE)	Yes		The unique identifier for the upload
STATUS	VARCHAR2(50 BYTE)	Yes		COMPLETE - when successful
FAILED - The upload was unsuccessful. The NAC will continue to match against records of active participants from your previous successful upload
UPLOADING - The file is uploading to the NAC, or the file has uploaded but is still being validated
CREATED_AT	DATE	Yes		The timestamp when the requested upload was performed
TOTAL_COUNT_PARTICIPANTS	NUMBER	Yes		The number or participants uploaded into the NAC
COMPLETED_AT	DATE	Yes		The timestamp when the requested upload was completed.
E_MESSAGE	VARCHAR2(4000 BYTE)	Yes		Error details as to why an upload failed
BULK_REQ_ID	NUMBER	No		Foreign Key 
DELETION_START_TIME	DATE	Yes		The timestamp when the deletion of existing records when upload was performed
DELETION_END_TIME	DATE	Yes		The timestamp when the deletion of existing records when upload was performed
DELETION_STATUS	VARCHAR2(20 BYTE)	Yes		Deletion Status of the records 
TOTAL_DELETED_OLD_PARTICIPANTS_COUNT	NUMBER	Yes		The number or participants deleted in the NAC
DELETIONERRORS	VARCHAR2(20 BYTE)	Yes		If any errors while deletion 
Table 5 4: BULK_UPLOADED_DETAILS_T


Field Name	Data Type	Nullable	Default Value	Comments
DPAPI_REQ_ID	NUMBER	No	NAC.DPAPI_REQ_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key
FIRST_NAME	VARCHAR2(200 BYTE)	Yes		Applicant First Name 
LAST_NAME	VARCHAR2(200 BYTE)	Yes		Applicant Last Name
DOB	DATE	Yes		Applicant Date of Birth
SSN	VARCHAR2(20 BYTE)	Yes		Applicant Social Security Number 
PARTICIPANT_ID	VARCHAR2(20 BYTE)	Yes		Induvial Identification Number
CASE_NUMBER	VARCHAR2(20 BYTE)	Yes		Case Number Or Application Number 
SEARCH_REASON	VARCHAR2(500 BYTE)	Yes		1. New Application,
2. New Household Member, 
3. Recertification,
4. Other
VULNERABLE_INDIVIDUAL	VARCHAR2(20 BYTE)	Yes	'False' 	True or False
Based the answer for the living situation question in the CP 
'Battered Woman Shelter’ and based on Unsafe Question = Yes
LDS_HASH	VARCHAR2(4000 BYTE)	Yes		After PII information Value is stored 
PROCESS_STATUS	VARCHAR2(5 BYTE)	Yes		“INT”,”PRC”,”RPC”
NAC_API_CALLS_FAILED	NUMBER(1,0)	Yes		To retry for 3 count. 
RECORD_CREATED_BY	VARCHAR2(50 BYTE)	Yes		AUDITING
RECORD_CREATED_DATE	DATE	Yes		AUDITING
RECORD_UPDATED_BY	VARCHAR2(50 BYTE)	Yes		AUDITING
RECORD_UPDATED_DATE	DATE	Yes		AUDITING
ACCESS_NUMBER	VARCHAR2(20 BYTE)	Yes		Access number
COMMENTS	VARCHAR2(20 BYTE)	Yes		If NAC_VERIFY_FLAG is ‘F’
NAC_VERIFY_FLAG	CHAR(1 BYTE)	No	'T' 	IF IT IS FLASE(‘F’) UPDATE THE COMMENTS FIELD WITH REASON 

MATCH_FOUND	CHAR(10 BYTE)	Yes		Based on response 
NOTICE_SENT	CHAR(10 BYTE)	Yes	'FALSE' 	Notice Flag to check if notice sent or not 
Table 5 5: DPAPI_REQUEST_T

Field Name	Data Type	Nullable	Default Value	Comments
DPAPI_RES_ID	NUMBER	No	NAC.DPAPI_RES_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key
PARTICIPANT_ID	VARCHAR2(200 BYTE)	Yes		Participant's state-specific identifier. Unique to the participant. Must not include social security number or other identifying information used outside of the benefits eligibility context.
CASE_NUMBER	VARCHAR2(200 BYTE)	Yes		Participant's state-specific case identifier. Can be the same for multiple participants
MATCH_ID	VARCHAR2(200 BYTE)	Yes		Unique identifier for the match. Generated by the NAC system when a match is found.
STATE_ID	VARCHAR2(200 BYTE)	Yes		State/territory two-letter postal abbreviation
PARTICIPANT_CLOSING_DATE	VARCHAR2(200 BYTE)	Yes		Date when the Participant's case will close. This will be the last date the participant is eligible to receive benefits.
VULNERABLE_INDIVIDUAL	VARCHAR2(200 BYTE)	Yes		Location protection flag for vulnerable individuals. True values indicate that the individual’s location must be protected from disclosure to avoid harm to the individual. Apply the same protections to true and null values.
CERTIFICATION_MONTHS	VARCHAR2(200 BYTE)	Yes		Collection of up to 3 date that participant has been certified at the time the match was found.
MATCH_URL	VARCHAR2(200 BYTE)	Yes		URL to visit to view details about this match
DPAPI_REQ_ID	NUMBER	No		Foreign Key
NOTICE_SENT	CHAR(5 BYTE)		'FALSE'	NEED TO MAKE IT "TRUE" ONCE NOTICE IS SENT
Table 5 6: DAPI_RESPONSE_T
Field Name	Data Type	Nullable	Default Value	Comments
DAPI_RESP_RBID_ID	NUMBER	No	NAC.DAPI_RES_RBID_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key 
STARTDATE	VARCHAR2(20 BYTE)	Yes		Date that participant has been certified at the time the match was found.
ENDDATE	VARCHAR2(20 BYTE)	Yes		Date that participant has been certified at the time the match was found.
MATCH_ID	VARCHAR2(200 BYTE)	Yes		Foreign Key
Table 5 7: DAPI_RESPONSE_RECENT_BENEFIT_ISSUANCE_DATES

Field Name	Data Type	Nullable	Default Value	Comments
DAPI_RES_ERROR_ID	NUMBER	No	NAC.DAPI_RES_ERROR_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key 
PARTICIPANT_ID	VARCHAR2(200 BYTE)	No		Participant's state-specific identifier. Unique to the participant. Must not include social security number or other identifying information used outside of the benefits eligibility context.
CASE_NUMBER	VARCHAR2(200 BYTE)	No		Participant's state-specific case identifier. Can be the same for multiple participants
STATUS	VARCHAR2(200 BYTE)	No		Error HTTP status code
CODE	VARCHAR2(200 BYTE)	No		The application-specific error code
TITTLE	VARCHAR2(200 BYTE)	No		The short, human-readable summary of the error, consistent across all occurrences of the error
DETAIL	VARCHAR2(200 BYTE)	No		The human-readable explanation specific to this occurrence of the error
DPAPI_REQ_ID	NUMBER	No		Foreign Key 
Table 5 8: DAPI_RESPONSE_ERRORS_T


Field Name	Data Type	Nullable	Default Value	Comments
GMAPI_RES_ID	NUMBER	No	NAC.GMAPI_RES_ID_SEQ.NEXTVAL 	Sequence Generator Primary Key
MATCH_ID	VARCHAR2(200 BYTE)	Yes		The unique id that identifies the match
IS_PRIMARY_CONTACT_EMAIL	VARCHAR2(200 BYTE)	Yes		The main email used for contacting the initiating state
IS_PHONE	VARCHAR2(200 BYTE)	Yes		The main phone number used for contacting the initiating state
MS_PRIMARY_CONTACT_EMAIL	VARCHAR2(200 BYTE)	Yes		The main email used for contacting the matching state
MS_PHONE	VARCHAR2(200 BYTE)	Yes		The main phone number used for contacting the matching state
STATUS	VARCHAR2(200 BYTE)	Yes		The status of whether or not the match resolution has been closed. Possible statuses are open or closed
MBM_CREATED_AT	DATE	Yes		The date the match was created by the MBM. Will be null if the match was not made by MBM
INIT_STATE	VARCHAR2(200 BYTE)	Yes		The full state name of the state that initiated
IS_INVALID_MATCH	VARCHAR2(5 BYTE)	Yes		Whether or not the match was valid for the initiating state
IS_INVALID_MATCH_REASON	VARCHAR2(200 BYTE)	Yes		The reason the match was declared invalid for the initiating state
IS_OTHER_REASONING_FOR_INVALID_MATCH	VARCHAR2(200 BYTE)	Yes		The reason the invalid match reason was declared Other for the initiating state
IS_INITIAL_ACTION_AT	VARCHAR2(200 BYTE)	Yes		The date the initial action was taken for the initiating state
IS_INITIAL_ACTION_TAKEN	VARCHAR2(200 BYTE)	Yes		Which action was taken for the initiating state
IS_FINAL_DISPOSITION	VARCHAR2(200 BYTE)	Yes		What the final disposition was for the initiating state
IS_FINAL_DISPOSITION_DATE	DATE	Yes		The date the final disposition was taken on for the initiating state
IS_VULNERABLE_INDIVIDUAL	VARCHAR2(5 BYTE)	Yes		A true, false, or null value on whether or not the participants location needs to be protected for the initiating state
IS_RESOLUTION_STATUS	VARCHAR2(200 BYTE)	Yes		The status of the match for the initiating state
IS_CASE_ID	VARCHAR2(200 BYTE)	Yes		The identifier for this participants instance of benefits for the initiating state
IS_PARTICIPANT_ID	VARCHAR2(200 BYTE)	Yes		An identifier for the participant for the initiating state
MATCHING_STATE	VARCHAR2(200 BYTE)	Yes		The full state name of the matching state
MS_INVALID_MATCH	VARCHAR2(5 BYTE)	Yes		Whether or not the match was valid for the matching state
MS_INVALID_MATCH_REASON	VARCHAR2(200 BYTE)	Yes		The reason the match was declared invalid for the matching state
MS_OTHER_REASONING_FOR_INVALID_MATCH	VARCHAR2(200 BYTE)	Yes		The reason the invalid match reason was declared Other for the matching state
MS_INITIAL_ACTION_AT	VARCHAR2(200 BYTE)	Yes		The date the initial action was taken for the matching state
MS_INITIAL_ACTION_TAKEN	VARCHAR2(200 BYTE)	Yes		Which action was taken for the matching state
MS_FINAL_DISPOSITION	VARCHAR2(200 BYTE)	Yes		What the final disposition was for the matching state
MS_FINAL_DISPOSITION_DATE	DATE	Yes		The date the final disposition was taken on for the matching state
MS_VULNERABLE_INDIVIDUAL	VARCHAR2(5 BYTE)	Yes		A true, false, or null value on whether or not the participants location needs to be protected for the matching state
MS_RESOLUTION_STATUS	VARCHAR2(200 BYTE)	Yes		The status of the match for the matching state
MS_CASE_ID	VARCHAR2(200 BYTE)	Yes		The identifier for this participants instance of benefits for the matching state
MS_PARTICIPANT_ID	VARCHAR2(200 BYTE)	Yes		An identifier for the participant for the matching state
LAST_UPDATED_AT	DATE	Yes		The date and time the match was last updated on
Table 5 9: GET_MATCHES_RESPONSE_T

The CLIENT_NOTICES.NOTICE_TYPE_ACTION_CODE_T oracle table will be modified to include a record for NACM P1 notice type. 
NOTICE_
TYPE_CODE	NOTICE_
ACTION_
TYPE_
CODE	Description	BEGIN
_DATE	END_
DATE	ACTIVE_
INDICATOR	RECORD_
UPDATED_BY	RECORD_
UPDATED_
DATE	NOTICE_
DELIVERY_
METHOD_
CODE
NACM	P1	NAC Pending	27-June-25	 	A	AMWM	27-June-25
 	 NULL
 
Client Notices Type Action Code T Table 
Table
The CLIENT_NOTICES.NOTICE_TYPE_T oracle table will be modified to include a record for AE50 C1 notice type. 
NOTICE_
TYPE_
CODE	DESCRIPTION_ENGLISH	BEGIN
_DATE	END_
DATE	ACTIVE_
INDICATOR	RECORD_
UPDATED_BY	RECORD_
UPDATED_
DATE	DESCRIPTION_SPANISH	DESCRIPTION_CREOLE
NACM	NAC Pending

 	18-June-25
 	 	A	AMSWM	18-June-25
 	NAC Pending
	NAC Pending

Table 4‑3: Client Notices Type T Table  

6	Reference Tables
6.1	Worker Portal
Reference Table Name: AllDataSources_InterfaceHub
{
        "ReferenceCode": "NACH",
        "ReferenceCodeDescription": "NAC Duplicate Participant (SNAP)",
        "ReferenceTableValueId": 7761,
        "SortOrder": 1,
        "BeginDate": null,
        "EndDate": null,
        "AdditionalAtt": null
    }
6.2	Client Portal
N/A
6.3	Access Interface
N/A
7	Appendix A: Acronyms
Acronym 	Description
NAC	National Accuracy Clearinghouse
SNAP	Supplemental Nutrition Assistance Program
DSNAP	Disaster Supplemental Nutrition Assistance Program
USDA	United States Department of Agriculture
NACM	National Accuracy Clearinghouse Match
DCF	Department of Children and Families
PPRL	Privacy-Preserving Record Linkage
FS	Food Stamp
P	Pass
O	Open
A	Approved
E	Eligibility


