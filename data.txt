     /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q26;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q27;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q28;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q29;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q30;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q31;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q32;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q33A;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q33B;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q33C;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q34A;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q34B;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q34C;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q35-HDR;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q35-SUB;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q35-AVG;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-2-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q36-HDR;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q36-AVG;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q37-HDR;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q37-SUB;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q37-CNT;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q38;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-9-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39-HDR;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39A-SUB;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39A-CNT;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39B-SUB;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39B-CNT;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39C-SUB;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q39C-CNT;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q40;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q41;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q42;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q43;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q44;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q45;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-2-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q46A;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q46B;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

        /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q47A;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q47B;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W1-DET.LINE-Q47C;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  /*  */
end // end AME48P9-PRN-25-47


// PROCESS TO PRINT HEADER
Function AME48P9-PRN-HEAD()
  /* cbsi start*/
  AME48W-HEAD.UPAGE = REP-COMMON.WS-PAGE-NO;

  /* move each line of header to map and print*/
  SR-132REP-RECOUT.UFIELD = AME48W-HEAD.LINE1;
  SR-132REP-RECOUT.PRNT-CC = "1"; /* PAGE BREAK*/
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-HEAD.LINE2;
  SR-132REP-RECOUT.PRNT-CC = " "; /* SINGLE SPACE*/
  WR-132REP-OUT-FILE();
  /* cbsi end*/
end // end AME48P9-PRN-HEAD


// POP & PRINT OFC DETAIL FIELDS
Function AME48P9-PRN-O10-12()

  /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  /* Q10/Q12 header line*/
  SR-132REP-RECOUT.UFIELD = AME48W-DET.LINE-Q10-Q12-HDR;
  SR-132REP-RECOUT.PRNT-CC = " "; /* print line*/
  WR-132REP-OUT-FILE();

  AME48W.WS-ETHNC-CD-IDX = 1;

  while (AME48W.WS-ETHNC-DESC[WS-ETHNC-CD-IDX] != " ")

  /* print the heading and sub heading if end of page is encountered*/
    if ((REP-COMMON.WS-LINE-NO > AME48W.WS-2-LINE-GROUP-MAX))
      REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
      AME48P9-PRN-HEAD(); /* print the header details*/
      AME48P9-PRN-SUBH(); /* print the subheader*/

      AME48W-DET.FILLER104 = " (CONTD) ";

  /* header line with '(CONTD)'*/
      SR-132REP-RECOUT.UFIELD = AME48W-DET.LINE-Q10-Q12-HDR;
      SR-132REP-RECOUT.PRNT-CC = " "; /* single space*/
      WR-132REP-OUT-FILE();

    end

    AME48P9-POP-O10-12();

    SR-132REP-RECOUT.UFIELD = AME48W-DET.LINE-Q10-Q12-CNT;
    SR-132REP-RECOUT.PRNT-CC = " ";
    WR-132REP-OUT-FILE();
    AME48W-DET.LINE-Q10-Q12-CNT = " ";

    AME48W.WS-ETHNC-CD-IDX = AME48W.WS-ETHNC-CD-IDX + 1;

  end /* while*/

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  /*  */
end // end AME48P9-PRN-O10-12


// PRINTING THE REPORT'S SUB-HEAD
Function AME48P9-PRN-SUBH()
  /* cbsi start*/
  /* Move each line of subheader to map*/

  /* SET CONTROL CHARACTER TO MOVE ONE LINE BEFORE PRINTING CURR LINE*/
  SR-132REP-RECOUT.PRNT-CC = "0";
  /* MOVE AME48W-SUBH.LINE1 TO SR-132REP-RECOUT.UFIELD;*/
  SR-132REP-RECOUT.UFIELD = AME48W-SUBH.LINE3;
  WR-132REP-OUT-FILE();

  /* SET CONTROL CHARACTER TO MOVE ONE LINE BEFORE PRINTING CURR LINE*/
  SR-132REP-RECOUT.PRNT-CC = "0";
  /* MOVE AME48W-SUBH.LINE3 TO SR-132REP-RECOUT.UFIELD;*/
  SR-132REP-RECOUT.UFIELD = AME48W-SUBH.LINE1;
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  /* cbsi end*/
end // end AME48P9-PRN-SUBH


// POP & PRINT STATEWIDE FIELDS
Function AME48P9-PRN-T10-12()

  /* print the heading and sub heading if end of page is encountered*/
  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  /* Q10/Q12 header line*/
  SR-132REP-RECOUT.UFIELD = AME48W-DET.LINE-Q10-Q12-HDR;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  AME48W.WS-ETHNC-CD-IDX = 1;

  while (AME48W.WS-ETHNC-DESC[WS-ETHNC-CD-IDX] != " ")

  /* print the heading and sub heading if end of page is encountered*/
    if ((REP-COMMON.WS-LINE-NO > AME48W.WS-2-LINE-GROUP-MAX))
      REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
      AME48P9-PRN-HEAD(); /* print the header details*/
      AME48P9-PRN-SUBH(); /* print the subheader*/

      AME48W-DET.FILLER104 = " (CONTD) ";

  /* header line with '(CONTD)'*/
      SR-132REP-RECOUT.UFIELD = AME48W-DET.LINE-Q10-Q12-HDR;
      SR-132REP-RECOUT.PRNT-CC = " "; /* single space*/
      WR-132REP-OUT-FILE();

    end

    AME48P9-POP-T10-12();

    SR-132REP-RECOUT.UFIELD = AME48W-DET.LINE-Q10-Q12-CNT;
    SR-132REP-RECOUT.PRNT-CC = " ";
    WR-132REP-OUT-FILE();
    AME48W-DET.LINE-Q10-Q12-CNT = " ";

  /* print the heading and sub heading if end of page is encountered*/
    if ((REP-COMMON.WS-LINE-NO > REP-COMMON.WS-MAX-NO-LINES))
      REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
      AME48P9-PRN-HEAD(); /* print the header details*/
      AME48P9-PRN-SUBH(); /* print the subheader*/
    end

    AME48W.WS-ETHNC-CD-IDX = AME48W.WS-ETHNC-CD-IDX + 1;

  end /* WHILE*/

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  /*  */
end // end AME48P9-PRN-T10-12


// PROCESS UPI'S FOR EACH ICI
Function AME48P9-PROC-DSC3()
  /* cbsi start*/
  /*  */

  set H2-2-CMH-PER empty;
  H2-2-CMH-PER.ICI = H2-2-FAC-PSY.ICI;

  H2-2-CMH-PER.PRD-BEG-DT = AME48W.WS-RPT-BEG-DT;
  H2-2-CMH-PER.PRD-END-DT = AME48W.WS-RPT-END-DT;

  /* GET UPI'S FOR EACH ICI*/
  AME48Q3-S03(); /* H2-2-CMH-PER*/

  if (sysVar.sqlData.sqlcode == 0)
    AME48Q3-S03-SCAN();

    while (sysVar.sqlData.sqlcode == 0)

      AME48W1.WS-DISQ-FG = "N";

  /* start q08*/
      set H2-PERSON-DISQL empty;
      H2-PERSON-DISQL.ICI = H2-2-FAC-PSY.ICI;
      H2-PERSON-DISQL.UPI = H2-2-CMH-PER.UPI;
      AME48Q7-S07();

      if (sysVar.sqlData.sqlcode == 0)

        if (H2-PERSON-DISQL.DISQL-RSN-CD
         in AME48W.WS-IPVDQ-CD)
          AME48W1.WS-IPV-CNT-IDX = sysVar.arrayIndex;
          AME48W1.WS-IPV-CNT[WS-IPV-CNT-IDX] = AME48W1.WS-IPV-CNT[WS-IPV-CNT-IDX] + 1;
          AME48W.WS-S-IPV-CNT[WS-IPV-CNT-IDX] = AME48W.WS-S-IPV-CNT[WS-IPV-CNT-IDX] + 1;

          AME48W1.WS-DISQ-MBR-CT1 = AME48W1.WS-DISQ-MBR-CT1 + 1;
          AME48W.WS-S-DISQ-MBR-CT1 = AME48W.WS-S-DISQ-MBR-CT1 + 1;

          AME48W1.WS-DISQ-FG = "Y";

        end
      end
  /* end q08*/

  /* start q09*/
      set H2-ELIG-MBR-TSRSLT empty;
      H2-ELIG-MBR-TSRSLT.ICI = H2-2-FAC-PSY.ICI;
      H2-ELIG-MBR-TSRSLT.UPI = H2-2-CMH-PER.UPI;
      H2-ELIG-MBR-TSRSLT.VER-NMB = H2-2-EVR-FCH.VER-NMB;
      H2-ELIG-MBR-TSRSLT.BNFT-YR = AME48W.WS-RPT-EN-YYYY;
      H2-ELIG-MBR-TSRSLT.BNFT-MTH = AME48W.WS-RPT-EN-MM;

      AME48Q17-S17();

      if (sysVar.sqlData.sqlcode == 0)

        AME48W1.WS-DISQ-MBR-CT2 = AME48W1.WS-DISQ-MBR-CT2 + 1;
        AME48W.WS-S-DISQ-MBR-CT2 = AME48W.WS-S-DISQ-MBR-CT2 + 1;

        AME48W1.WS-DISQ-FG = "Y";

        if (H2-ELIG-MBR-TSRSLT.SSN-TEST-RSLT-CD == "F")
          AME48W1.WS-SSN-DSQL-CNT = AME48W1.WS-SSN-DSQL-CNT + 1;
          AME48W.WS-S-SSN-DSQL-CNT = AME48W.WS-S-SSN-DSQL-CNT + 1;
        end

        if (H2-ELIG-MBR-TSRSLT.CTZNP-TST-RSCD == "F")
          AME48W1.WS-CTZN-DSQL-CNT = AME48W1.WS-CTZN-DSQL-CNT + 1;
          AME48W.WS-S-CTZN-DSQL-CNT = AME48W.WS-S-CTZN-DSQL-CNT + 1;
        end

        if (H2-ELIG-MBR-TSRSLT.FELON-TST-RSCD == "F")
          AME48W1.WS-FELON-DSQL-CNT = AME48W1.WS-FELON-DSQL-CNT + 1;
          AME48W.WS-S-FELON-DSQL-CNT = AME48W.WS-S-FELON-DSQL-CNT + 1;
        end

        if (H2-ELIG-MBR-TSRSLT.DRGCNVT-TST-RSCD == "F")
          AME48W1.WS-DRUG-DSQL-CNT = AME48W1.WS-DRUG-DSQL-CNT + 1;
          AME48W.WS-S-DRUG-DSQL-CNT = AME48W.WS-S-DRUG-DSQL-CNT + 1;
        end
      end
  /* end q09*/

      if (AME48W1.WS-DISQ-FG != "Y")

  /* start q02*/
        AME48W1.WS-TOT-ACTV-MEM = AME48W1.WS-TOT-ACTV-MEM + 1;
        AME48W.WS-S-TOT-ACTV-MEM = AME48W.WS-S-TOT-ACTV-MEM + 1;
  /* end q02*/

  /* start q07*/
        set P-DATE-REC3 empty;
        AME48P9-DATE();

        AME48W1.WS-AGE-IDX = 1;
        AME48W1.WS-AGE-FND = "N";

        while (AME48W1.WS-AGE-IDX <= 14
         && AME48W1.WS-AGE-FND != "Y")

          if (AME48W1.WS-NO-YRS < AME48W.WS-AGE-CATGRY[WS-AGE-IDX])

            if (AME48W1.WS-DISQ-FG != "Y")
              AME48W1.WS-AGE-CNT[WS-AGE-IDX] = AME48W1.WS-AGE-CNT[WS-AGE-IDX] + 1;

              AME48W.WS-S-AGE-CNT[WS-AGE-IDX] = AME48W.WS-S-AGE-CNT[WS-AGE-IDX] + 1;
            end

            AME48W1.WS-AGE-FND = "Y";

          end

          AME48W1.WS-AGE-IDX = AME48W1.WS-AGE-IDX + 1;

        end /* WHILE*/

  /*  */
  /* IDX = 15 OF THE AGE ARRAY IS FOR >= 60 YEARS.*/
  /*  */
        if (AME48W1.WS-AGE-IDX == 15
         && AME48W1.WS-AGE-FND != "Y")

          if (AME48W1.WS-DISQ-FG != "Y")
            AME48W1.WS-AGE-CNT[WS-AGE-IDX] = AME48W1.WS-AGE-CNT[WS-AGE-IDX] + 1;

            AME48W.WS-S-AGE-CNT[WS-AGE-IDX] = AME48W.WS-S-AGE-CNT[WS-AGE-IDX] + 1;
          end

        end
  /* end q07*/

  /* start q13*/
  /* COUNT EVERY UPI - USED IN APPLSPEC TO DETERMINE IF ALL ARE AGDDIS*/
        AME48W1.WS-AGDDIS-UPI-CNT = AME48W1.WS-AGDDIS-UPI-CNT + 1;

        set H2-INCAP-DSBLTY empty;
        H2-INCAP-DSBLTY.UPI = H2-2-CMH-PER.UPI;
        H2-INCAP-DSBLTY.PRD-BEG-DT = AME48W.WS-RPT-BEG-DT;
        H2-INCAP-DSBLTY.PRD-END-DT = AME48W.WS-RPT-END-DT;

        AME48Q24-S24();

        if (AME48W1.WS-DSBLD-FG == "Y")
          AME48W1.WS-DSBLD-CNT = AME48W1.WS-DSBLD-CNT + 1;
          AME48W1.WS-DSBLD-OR-AGED-CNT = AME48W1.WS-DSBLD-OR-AGED-CNT + 1;
          AME48W1.WS-AGDDIS-FG = "Y"; /* q23*/
        else
          if (AME48W1.WS-NO-YRS >= 60)
            AME48W1.WS-AGED-CNT = AME48W1.WS-AGED-CNT + 1;
            AME48W1.WS-DSBLD-OR-AGED-CNT = AME48W1.WS-DSBLD-OR-AGED-CNT + 1;
            AME48W1.WS-AGDDIS-FG = "Y"; /* q23*/
          end
        end

  /* re-init disability flag for next UPI*/
        AME48W1.WS-DSBLD-FG = "N";

  /* end q13*/

  /* start q46,q47*/
    /* check if the upi is that of the hoh and check age category.*/
        if (H2-2-CMH-PER.UPI == H2-2-EVR-FCH.HOH-UPI)
          if (AME48W1.WS-NO-YRS >= 18)
            AME48W1.WS-HHAGE-18-FG = "Y";
          else
            if (AME48W1.WS-NO-YRS > 15 && AME48W1.WS-NO-YRS < 18)
              AME48W1.WS-HHAGE-15-FG = "Y";
            end
          end
        end

  /* check for a spouse in the household*/
        set H2-MEMBER-REL empty;
        H2-MEMBER-REL.FROM-UPI = H2-2-EVR-FCH.HOH-UPI;
        H2-MEMBER-REL.TO-UPI = H2-2-CMH-PER.UPI;
        H2-MEMBER-REL.ICI = H2-2-FAC-PSY.ICI;
        H2-MEMBER-REL.PRD-BEG-DT = AME48W.WS-RPT-BEG-DT;
        H2-MEMBER-REL.PRD-END-DT = AME48W.WS-RPT-END-DT;
        AME48Q5-S05();

        if (sysVar.sqlData.sqlcode == 0)
          if (H2-MEMBER-REL.RELSH-CD == "02")
            AME48W1.WS-SPOUSE-FG = "Y";
          end
        end

  /* end q46,q47*/

  /* start q10/q12*/
        AME48P9-ETHNC-CNT(); /* WI 20799*/
  /* end q10/q12*/

  /* start q11*/
        if (H2-2-CMH-PER.SEX-CD == "M")
          AME48W1.WS-SEX-M-CNT = AME48W1.WS-SEX-M-CNT + 1;
          AME48W.WS-S-SEX-M-CNT = AME48W.WS-S-SEX-M-CNT + 1;
        else
          if (H2-2-CMH-PER.SEX-CD == "F")
            AME48W1.WS-SEX-F-CNT = AME48W1.WS-SEX-F-CNT + 1;
            AME48W.WS-S-SEX-F-CNT = AME48W.WS-S-SEX-F-CNT + 1;
          end
        end
  /* end q11*/

  /* start q14,q15*/
        set H2-2-MED-MEP empty;
        H2-2-MED-MEP.UPI = H2-2-CMH-PER.UPI;
        H2-2-MED-MEP.PRD-BEG-DT = AME48W.WS-RPT-BEG-DT;
        H2-2-MED-MEP.PRD-END-DT = AME48W.WS-RPT-END-DT;

        AME48Q4-S04();

        if (sysVar.sqlData.sqlcode == 0)
          if (AME48W1.WS-MDCL-EXP-AMT > 0) /* WNMLS*/

            AME48W1.WS-MED-EXP-FG = "Y";
            AME48W1.WS-MBR-MEDX = AME48W1.WS-MBR-MEDX + 1;
            AME48W.WS-S-MBR-MEDX = AME48W.WS-S-MBR-MEDX + 1;
          end
        end
  /* end q14,q15*/

  /* start q26,q27*/
        set H2-UTILITIES empty;
        H2-UTILITIES.UPI = H2-2-CMH-PER.UPI;
        H2-UTILITIES.PRD-BEG-DT = AME48W.WS-RPT-BEG-DT;
        H2-UTILITIES.PRD-END-DT = AME48W.WS-RPT-END-DT;

        AME48Q8-S08(); /* GET SUA-IND & NMB-SHRG-SUA*/

        if (sysVar.sqlData.sqlcode == 0)

          if (H2-UTILITIES.SUA-IND == "Y" 
           || H2-UTILITIES.SUA-IND == "I" /* WI 26092*/
           || H2-UTILITIES.SUA-IND == "L") /* WI 26092*/
            if (H2-UTILITIES.NMB-SHRG-SUA > 1) /* PARTIAL SUA*/
              AME48W1.WS-PSUA-FG = "Y";
            else
              AME48W1.WS-SUA-FG = "Y";
            end /* SHRG*/

          end /* SUA = 'Y'*/

        end /* EZE = 0*/

  /* end q26,q27*/

  /* start q20, q24 gaga*/

        AME48P9-CALC-GAGA();

  /* end q20, q24 gaga*/

  /* start q20, q24 edin*/
        set H2-STDNT-GR-INC-DT empty;
        H2-STDNT-GR-INC-DT.UPI = H2-2-CMH-PER.UPI;

        AME48Q30-S30();

        if (sysVar.sqlData.sqlcode == 0)
          AME48Q30-S30-SCAN();

          while (sysVar.sqlData.sqlcode == 0)
            if (H2-STDNT-GR-INC-DT.MTHLY-AMT > 0)

              AME48W1.WS-EDIN-INC-FG = "Y";

              AME48W1.WS-UNIN-EDIN-CNT = AME48W1.WS-UNIN-EDIN-CNT + 1;
              AME48W.WS-S-UNIN-EDIN-CNT = AME48W.WS-S-UNIN-EDIN-CNT + 1;

              AME48W1.WS-UNIN-EDIN-TOT = AME48W1.WS-UNIN-EDIN-TOT +               H2-STDNT-GR-INC-DT.MTHLY-AMT;
              AME48W.WS-S-UNIN-EDIN-TOT = AME48W.WS-S-UNIN-EDIN-TOT +               H2-STDNT-GR-INC-DT.MTHLY-AMT;

            end /* IF AMT > 0*/

            AME48Q30-S30-SCAN();

          end /* WHILE*/
        end /* IF*/

  /* end q20, q24 edin*/

  /* start q20, q24*/
        set H2-UERND-INCM-DTL empty;
        H2-UERND-INCM-DTL.UPI = H2-2-CMH-PER.UPI;

        H2-UERND-INCM-DTL.PRD-BEG-DT = AME48W.WS-RPT-BEG-DT;
        H2-UERND-INCM-DTL.PRD-END-DT = AME48W.WS-RPT-END-DT;

        AME48Q19-S19();

        if (sysVar.sqlData.sqlcode == 0)
          AME48Q19-S19-SCAN();

          while (sysVar.sqlData.sqlcode == 0)

            if (H2-UERND-INCM-DTL.UERND-INC-TYPE-CD
             in AME48W.WS-UNIN-CD)
              AME48W1.WS-UNIN-CNT-IDX = sysVar.arrayIndex;
              AME48W1.WS-UNIN-AMT-IDX = sysVar.arrayIndex;

              AME48W1.WS-UNIN-CNT[WS-UNIN-CNT-IDX] = AME48W1.WS-UNIN-CNT[WS-UNIN-CNT-IDX] + 1;
              AME48W1.WS-UNIN-AMT-TOT[WS-UNIN-AMT-IDX] = AME48W1.WS-UNIN-AMT-TOT[WS-UNIN-AMT-IDX] +               H2-UERND-INCM-DTL.UERND-INC-AMT;

              AME48W.WS-S-UNIN-CNT[WS-UNIN-CNT-IDX] = AME48W.WS-S-UNIN-CNT[WS-UNIN-CNT-IDX] + 1;
              AME48W.WS-S-UNIN-AMT-TOT[WS-UNIN-AMT-IDX] = AME48W.WS-S-UNIN-AMT-TOT[WS-UNIN-AMT-IDX] +               H2-UERND-INCM-DTL.UERND-INC-AMT;
            end

            AME48Q19-S19-SCAN();
          end /* while dsc19*/
        end /* if eze = 0*/
  /* end q20, to get q24*/

      end /* WS-DISQ-FG NE 'Y'*/


      AME48Q3-S03-SCAN();

    end /* while EZE*/
  end /* IF EZE  S03-SCAN*/
  /* cbsi end*/
end // end AME48P9-PROC-DSC3


// PROCESS TO READ INPUT FILE
Function AME48P9-READIP()
  /* cbsi start*/
  VDBCONTROL.UPROC-NM = "AME48P9-READIP";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "SR-AME48-RECIN";
  VMESSAGE.UMSGINS[2] = "AME48A";
  try
    get next SR-AME48-RECIN ;
  end
  /* check if any i/o error has occured*/
  if (SR-AME48-RECIN is ioError)
   /* return error code to indicate abnormal ending*/
    VMESSAGE.UMSGCODE-JCL-ERR = 10;
    AME48W.WS-EZERT8 = sysVar.errorCode;
    VMESSAGE.UMSGINS[1] = AME48W.WS-EZERT8-LAST4;
    WCM00P2-TO-CEP01A();
  end

  /* cbsi end*/
end // end AME48P9-READIP


// INITIALIZE ALL RECORDS
Function AME48P9-SET-EMPTY()
  /* cbsi start*/
  set REP-COMMON empty;
  set AME48W-DET empty;
  set AME48W1-DET empty;
  set AME48W-HEAD empty;
  set AME48W-SUBH empty;
  set VMESSAGE empty;
  set CEP01W empty;
  set VDBCONTROL empty;
  set VDBCOMMON empty;
  set FORMATW empty;
  set AME48W empty;
  set AME48W1 empty;
  set REP-EOFNOF empty;
  set VCONTROL empty;
  set P-DATE-REC3 empty;
  set VDTSREC empty;
  /* set all h2 records empty*/
  set H2-OFFICE empty;
  set H2-INCAP-DSBLTY empty;
  set H2-GEN-ASST-INC-DT empty;
  set H2-STDNT-GR-INC-DT empty;
  set H2-CODE-TBL empty;
  set H2-MEMBER-REL empty;
  set H2-PERSON-DISQL empty;
  set H2-UTILITIES empty;
  set H2-ELG-BDGT-UNIT empty;
  set H2-FAM-AUTH-FACLTY empty;
  set H2-ELIG-MBR-TSRSLT empty;
  set H2-UERND-INCM-DTL empty;
  set H2-FAM-ACTNS empty;
  set H2-2-FAC-PSY empty;
  set H2-2-EVR-FCH empty;
  set H2-2-CMH-PER empty;
  set H2-2-MED-MEP empty;
  set H2-2-FAA-FAC empty;
  set H2-3-FCE-PAH-PSY empty;
  set H2-4-FACFCE-PAHPSY empty;
  set H3-FAM-ACTNS empty;
  /* set all serial records empty*/
  set SR-AME48-RECIN empty;
  set SR-132REP-RECOUT empty;
  /* cbsi end*/
end // end AME48P9-SET-EMPTY


// INIT ALL RECORDS FOR STATE
Function AME48P9-ST-EMPTY()
  /* cbsi start*/
  set P-DATE-REC3 empty;
  /* set h2 records empty*/
  set H2-MEMBER-REL empty;
  set H2-PERSON-DISQL empty;
  set H2-UTILITIES empty;
  set H2-ELG-BDGT-UNIT empty;
  set H2-FAM-AUTH-FACLTY empty;
  set H2-ELIG-MBR-TSRSLT empty;
  set H2-UERND-INCM-DTL empty;
  set H2-2-CMH-PER empty;
  set H2-2-MED-MEP empty;
  set H2-3-FCE-PAH-PSY empty;
  set H2-4-FACFCE-PAHPSY empty;
  /* cbsi end*/
end // end AME48P9-ST-EMPTY


// LOAD UNIN CODE ARRAY
Function AME48P9-UNIN-INIT()
  AME48Q23-S23();

  if (sysVar.sqlData.sqlcode == 0)
    AME48W.WS-UNIN-CD-IDX = 1;

    AME48Q23-S23-SCAN();
    while (sysVar.sqlData.sqlcode == 0)
      AME48W.WS-UNIN-DESC[WS-UNIN-CD-IDX] = H2-CODE-TBL.CODE-DESC;
      AME48W.WS-UNIN-CD[WS-UNIN-CD-IDX] = H2-CODE-TBL.CODE-TBL-CD;
      AME48W.WS-UNIN-CD-IDX = AME48W.WS-UNIN-CD-IDX + 1;

      AME48W.WS-UNIN-ARRAY-SIZE = AME48W.WS-UNIN-ARRAY-SIZE + 1;

      AME48Q23-S23-SCAN();

    end

  end
end // end AME48P9-UNIN-INIT


// BUILD UNIN CODE LEGEND
Function AME48P9-UNIN-LEGND()
  /*  */

  if ((REP-COMMON.WS-LINE-NO > AME48W.WS-4-LINE-GROUP-MAX))
    REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
    AME48P9-PRN-HEAD(); /* print the header details*/
    AME48P9-PRN-SUBH(); /* print the subheader*/
  end

  SR-132REP-RECOUT.UFIELD = AME48W-DET.LEGND-UNIN-HDR-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.LEGND-U-SCR-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  AME48W.WS-UNIN-CD-IDX = 1;

  while (AME48W.WS-UNIN-CD[WS-UNIN-CD-IDX] != " ")

    AME48W-DET.S-CD-LEGND1 = AME48W.WS-UNIN-CD[WS-UNIN-CD-IDX];
    AME48W-DET.S-DESC-LEGND1 = AME48W.WS-UNIN-DESC[WS-UNIN-CD-IDX];
    AME48W.WS-UNIN-CD-IDX = AME48W.WS-UNIN-CD-IDX + 1;

    if (AME48W.WS-UNIN-CD[WS-UNIN-CD-IDX] != " ")
      AME48W-DET.S-CD-LEGND2 = AME48W.WS-UNIN-CD[WS-UNIN-CD-IDX];
      AME48W-DET.S-DESC-LEGND2 = AME48W.WS-UNIN-DESC[WS-UNIN-CD-IDX];
      AME48W.WS-UNIN-CD-IDX = AME48W.WS-UNIN-CD-IDX + 1;
    end /* IF*/

    if ((REP-COMMON.WS-LINE-NO > AME48W.WS-3-LINE-GROUP-MAX))
      REP-COMMON.WS-PAGE-NO = REP-COMMON.WS-PAGE-NO + 1;
      AME48P9-PRN-HEAD(); /* print the header details*/
      AME48P9-PRN-SUBH(); /* print the subheader*/

      AME48W-DET.LEGND-UNIN-HDR-CONTD = "(CONTD)";

  /* header line with '(CONTD)'*/
      SR-132REP-RECOUT.UFIELD = AME48W-DET.LEGND-UNIN-HDR-LINE;
      SR-132REP-RECOUT.PRNT-CC = " "; /* single space*/
      WR-132REP-OUT-FILE();

    end

    SR-132REP-RECOUT.UFIELD = AME48W-DET.LEGND-LINE;
    SR-132REP-RECOUT.PRNT-CC = " ";
    WR-132REP-OUT-FILE();
    AME48W-DET.LEGND-LINE = " ";

  end /* WHILE*/

  SR-132REP-RECOUT.UFIELD = AME48W-DET.LEGND-U-SCR-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  SR-132REP-RECOUT.UFIELD = AME48W-DET.BLANK-LINE;
  SR-132REP-RECOUT.PRNT-CC = " ";
  WR-132REP-OUT-FILE();

  /*  */
end // end AME48P9-UNIN-LEGND


// GET OFC CODES
Function AME48Q1-S01()
  /* csbi start*/
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-OFFICE";
  VDBCONTROL.UPROC-NM = "AME48Q1-S01";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-OFFICE";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q1-S01_RSI01
      with #sql{
        select OFC_CD, OFC_NM
        from TWNOFFICE T1
         --** INSERT WHERE, GROUP BY AND HAVING CLAUSES HERE **
        WHERE
        OFC_TYP = 'A'
        AND OFC_NM NOT LIKE '%DCFS%'
        AND OFC_NM NOT LIKE '%CENTRAL OFFICE%'
        AND OFC_NM <> 'NOMADS'
        ORDER BY OFC_CD
        FOR FETCH ONLY
      }      
      into OFC-CD, OFC-NM
      for H2-OFFICE ;
  end
  /*  */
  REPP9-SQL-CHKERR();

  /* cbsi end*/
end // end AME48Q1-S01


// PROCESS TO SCAN CURSOR DSC01
Function AME48Q1-S01-SCAN()
  /* cbsi start*/
  VDBCOMMON.USQLREC = "H2-OFFICE";
  VDBCONTROL.UPROC-NM = "AME48Q1-S01-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-OFFICE";

  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-OFFICE ;
  end
  VDBCONTROL.URC = 0;
  if (sysVar.sqlData.sqlcode != 0)
    REPP9-SQL-CHKERR();
  end

  /* cbsi end*/
end // end AME48Q1-S01-SCAN


// GET LST_POSTD_VER ROW
Function AME48Q11-S11()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-ELG-BDGT-UNIT";
  VDBCONTROL.UPROC-NM = "AME48Q11-S11";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "INQUIRY";
  VDBCONTROL.UPROC-OBJ = "H2-ELG-BDGT-UNIT";
  VDBCONTROL.UACCTYP = "R";
  try
    get H2-ELG-BDGT-UNIT
      with #sql{
        select T1.TOT_INCM_AMT, T1.UERND_INCM_AMT, T1.AFDC_BNFT_AMT,
           T1.GRS_EARND_INCM_AMT,T1.RENT_EXP_AMT,T1.UTIL_EXP_AMT,
           T1.DPNDT_CRE_EXP_AMT,T1.HOME_EXP_AMT,T1.OG_MDCL_EXP_AMT,
           T1.OTH_MDCL_EXP_AMT
        from TWNELG_BDGT_UNIT T1
        WHERE
        T1.ICI = :ICI AND
        T1.VER_NMB = :VER-NMB AND
        T1.PRGM_CASE_TYPE = 'FS' AND
        T1.BNFT_YR = :BNFT-YR AND
        T1.BNFT_MTH = :BNFT-MTH
        FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }
      into TOT-INCM-AMT, UERND-INCM-AMT,AFDC-BNFT-AMT,
           GRS-EARND-INCM-AMT,RENT-EXP-AMT,UTIL-EXP-AMT,
           DPNDT-CRE-EXP-AMT,HOME-EXP-AMT,OG-MDCL-EXP-AMT,
           OTH-MDCL-EXP-AMT ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q11-S11


// CNT CURR AUTH REP FOR EACH ICI
Function AME48Q15-S15()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-FAM-AUTH-FACLTY";
  VDBCONTROL.UPROC-NM = "AME48Q15-S15";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "INQUIRY";
  VDBCONTROL.UPROC-OBJ = "H2-FAM-AUTH-FACLTY";
  VDBCONTROL.UACCTYP = "R";
  try
    get H2-FAM-AUTH-FACLTY singleRow
      with #sql{
        select COUNT(*)
        from twnfam_auth_faclty T1
        WHERE
        T1.AUTH_REP_FS_TYP <> ' ' AND
        T1.FS_AUTHREP_VER_IND = 'Y' AND
        T1.ICI = :ICI AND
        T1.EFF_FR_DT <= :EFF-FR-DT AND
        T1.EFF_TO_DT >= :EFF-TO-DT
         --** INSERT ORDER BY CLAUSE HERE **
      }
      into AME48W1.WS-AR-COUNT ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q15-S15


// COUNT BY ZIP CODE
Function AME48Q16-S16()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-4-FACFCE-PAHPSY";
  VDBCONTROL.UPROC-NM = "AME48Q16";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-4-FACFCE-PAHPSY";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q16-S16_RSI01
      with #sql{
        select COUNT(*), T3.ZIP_CD
        from TWNFAM_CASELD_CASE T1,
             TWNFAM_CASE T2,
             TWNPERSON_ADRS_HST T3,
             TWNPRGM_CASE_HSTRY T4
        WHERE
        T4.PRGM_CASE_STS = 'O' AND
        T4.PRGM_CASE_TYPE = 'FS' AND
        T4.PRD_BEG_DT <= :PRD-BEG-DT AND
        T4.PRD_END_DT >= :PRD-END-DT AND
        T4.ICI = T1.ICI AND
        T4.ICI = T2.ICI AND
        T2.APPL_UPI = T3.UPI AND
        T3.UPI > 0 AND
        T3.ADR_TYPE = 'CR' AND
        T1.OFC_CD = :OFC-CD
        GROUP BY T3.ZIP_CD
        ORDER BY T3.ZIP_CD
         --** INSERT ORDER BY CLAUSE HERE **
      }      
      into AME48W1.WS-COUNT, ZIP-CD
      for H2-4-FACFCE-PAHPSY ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q16-S16


// COUNT BY ZIP CODE
Function AME48Q16-S16-B()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-3-FCE-PAH-PSY";
  VDBCONTROL.UPROC-NM = "AME48Q16-S16-B";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-3-FCE-PAH-PSY";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q16-S16-B_RSI01
      with #sql{
        select COUNT(*), T2.ZIP_CD
        from TWNFAM_CASE T1,
             TWNPERSON_ADRS_HST T2,
             TWNPRGM_CASE_HSTRY T3
        WHERE
        T3.PRGM_CASE_STS = 'O' AND
        T3.PRGM_CASE_TYPE = 'FS' AND
        T3.PRD_BEG_DT <= :PRD-BEG-DT AND
        T3.PRD_END_DT >= :PRD-END-DT AND
        T3.ICI = T1.ICI AND
        T1.APPL_UPI = T2.UPI AND
        T2.UPI > 0 AND
        T2.ADR_TYPE = 'CR'
        GROUP BY T2.ZIP_CD
        ORDER BY T2.ZIP_CD
      }      
      into AME48W1.WS-COUNT, ZIP-CD
      for H2-3-FCE-PAH-PSY ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q16-S16-B


// PROCESS TO SET CURSOR DSC16
Function AME48Q16-S16-SCAN()
  VDBCOMMON.USQLREC = "H2-4-FACFCE-PAHPSY";
  VDBCONTROL.UPROC-NM = "AME48Q16-S16-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-4-FACFCE-PAHPSY";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-4-FACFCE-PAHPSY ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q16-S16-SCAN


// PROCESS TO SET CURSOR DSC16B
Function AME48Q16-S16-SCANB()
  VDBCOMMON.USQLREC = "H2-3-FCE-PAH-PSY";
  VDBCONTROL.UPROC-NM = "AME48Q16-S16-SCANB";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-3-FCE-PAH-PSY";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-3-FCE-PAH-PSY ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q16-S16-SCANB


// FELON, DRUG, SSN, CTZN FAIL
Function AME48Q17-S17()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-ELIG-MBR-TSRSLT";
  VDBCONTROL.UPROC-NM = "AME48Q17-S17";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "INQUIRY";
  VDBCONTROL.UPROC-OBJ = "H2-ELIG-MBR-TSRSLT";
  VDBCONTROL.UACCTYP = "R";
  try
    get H2-ELIG-MBR-TSRSLT
      with #sql{
        select T1.SSN_TEST_RSLT_CD,T1.CTZNP_TST_RSCD,
            T1.FELON_TST_RSCD,T1.DRGCNVT_TST_RSCD
        from TWNELIG_MBR_TSRSLT T1
        WHERE T1.ICI = :ICI
        AND T1.UPI = :UPI
        AND T1.VER_NMB = :VER-NMB
        AND T1.PRGM_CASE_TYPE = 'FS'
        AND T1.BNFT_YR = :BNFT-YR
        AND T1.BNFT_MTH = :BNFT-MTH
        AND (T1.SSN_TEST_RSLT_CD = 'F'
        OR T1.CTZNP_TST_RSCD = 'F'
        OR T1.FELON_TST_RSCD = 'F'
        OR T1.DRGCNVT_TST_RSCD = 'F')
        FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }
      into SSN-TEST-RSLT-CD,CTZNP-TST-RSCD,
           FELON-TST-RSCD,DRGCNVT-TST-RSCD ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q17-S17


// UNIN TYPE CODE, AMT
Function AME48Q19-S19()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-UERND-INCM-DTL";
  VDBCONTROL.UPROC-NM = "AME48Q19-S19";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-UERND-INCM-DTL";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q19-S19_RSI01
      with #sql{
        select T1.UERND_INC_TYPE_CD,  T1.UERND_INC_AMT
        from TWNUERND_INCM_DTL T1
        WHERE
        T1.UPI = :UPI AND
        T1.PRD_BEG_DT <= :PRD-BEG-DT AND
        T1.PRD_END_DT >= :PRD-END-DT AND
        T1.FS_CNTBL_IND = 'Y' AND
        T1.UERND_INC_AMT > 0
        FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }      
      into UERND-INC-TYPE-CD, UERND-INC-AMT
      for H2-UERND-INCM-DTL ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q19-S19


// PROCESS TO SCAN CURSOR DSC19
Function AME48Q19-S19-SCAN()
  VDBCOMMON.USQLREC = "H2-UERND-INCM-DTL";
  VDBCONTROL.UPROC-NM = "AME48Q19-S19-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-UERND-INCM-DTL";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-UERND-INCM-DTL ;
  end
  VDBCONTROL.URC = 0;
  if (sysVar.sqlData.sqlcode != 0)
    REPP9-SQL-CHKERR();
  end
  /* cbsi end*/
end // end AME48Q19-S19-SCAN


// GET ONGOING FS CASES
Function AME48Q2-S02()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-2-FAC-PSY";
  VDBCONTROL.UPROC-NM = "AME48Q2-S02";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-2-FAC-PSY";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q2-S02_RSI01
      with #sql{
        select T2.PRGM_CASE_STS,T2.PRGM_EFF_DT,
            DAY(PRGM_EFF_DT),T2.RCRT_APL_DT,T2.ICI,T2.PRD_END_DT,T2.REDET_FRQ
        from TWNFAM_CASELD_CASE T1,
             TWNPRGM_CASE_HSTRY T2
        WHERE
        T1.OFC_CD = :OFC-CD
        AND T2.PRGM_CASE_STS = 'O'
        AND T2.PRGM_CASE_TYPE = 'FS'
        AND T2.PRD_BEG_DT <= :PRD-BEG-DT
        AND T2.PRD_END_DT >= :PRD-END-DT
        AND T2.ICI = T1.ICI
        FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }      
      into PRGM-CASE-STS,PRGM-EFF-DT,
           AME48W1.WS-DAY,RCRT-APL-DT,
           ICI,PRD-END-DT,REDET-FRQ
      for H2-2-FAC-PSY ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q2-S02


// GET ELIG-NUM,MR,FS-SUFX
Function AME48Q2-S02-P2()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-2-EVR-FCH";
  VDBCONTROL.UPROC-NM = "AME48Q2-S02-P2";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "INQUIRY";
  VDBCONTROL.UPROC-OBJ = "H2-2-EVR-FCH";
  VDBCONTROL.UACCTYP = "R";
  try
    get H2-2-EVR-FCH
      with #sql{
        select T1.VER_NMB, T1.MTD_ENTLM_AMT, T1.ELIG_NUM,
          T1.BNFT_RDCTN_AMT,
          T2.MTHLY_RPTR_IND, T2.HOH_UPI, T2.FS_SUFX, T2.HMLS_IND
        from TWNELIG_VERSION T1,
             TWNFAM_CASE_HSTRY T2
         --** INSERT WHERE, GROUP BY AND HAVING CLAUSES HERE **
        WHERE
        T2.ICI = :ICI
        AND T1.ICI = T2.ICI
        AND T1.PRGM_CASE_TYPE = 'FS'
        AND T1.CASE_RSLT_CD = 'E'
        AND T2.PRD_BEG_DT <= :PRD-BEG-DT
        AND T2.PRD_END_DT >= :PRD-END-DT
        AND T1.BNFT_YR = :BNFT-YR
        AND T1.BNFT_MTH = :BNFT-MTH
        AND T1.LST_POSTD_VER_IND = 'Y'
        FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }
      into VER-NMB, MTD-ENTLM-AMT, ELIG-NUM,
           BNFT-RDCTN-AMT,
           MTHLY-RPTR-IND, HOH-UPI, FS-SUFX, HMLS-IND ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q2-S02-P2


// PROCESS TO SCAN CURSOR DSC02
Function AME48Q2-S02-SCANP1()
  VDBCOMMON.USQLREC = "H2-2-FAC-PSY";
  VDBCONTROL.UPROC-NM = "AME48Q2-S02-SCANP1";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-2-FAC-PSY";

  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-2-FAC-PSY ;
  end
  VDBCONTROL.URC = 0;
  if (sysVar.sqlData.sqlcode != 0)
    REPP9-SQL-CHKERR();
  end
  /* cbsi end*/
end // end AME48Q2-S02-SCANP1


// GET ALL ETHNICITY CODES
Function AME48Q21-S21()
  /*  */
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-CODE-TBL";
  VDBCONTROL.UPROC-NM = "AME48Q21-S21";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-CODE-TBL";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q21-S21_RSI01
      with #sql{
        select CODE_TBL_CD, CODE_DESC
        from twncode_tbl T1
         --** INSERT WHERE, GROUP BY AND HAVING CLAUSES HERE **
        WHERE
          T1.CODE_TBL_TYP = 'ETHNICTY'
        ORDER BY T1.CODE_TBL_CD
        FOR FETCH ONLY
      }      
      into CODE-TBL-CD, CODE-DESC
      for H2-CODE-TBL ;
  end
  /*  */
  REPP9-SQL-CHKERR();

  /*  */
end // end AME48Q21-S21


// PROCESS TO SCAN CURSOR
Function AME48Q21-S21-SCAN()
  VDBCOMMON.USQLREC = "H2-CODE-TBL";
  VDBCONTROL.UPROC-NM = "AME48Q21-S21-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-CODE-TBL";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-CODE-TBL ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /*  */
end // end AME48Q21-S21-SCAN


// GET ALL IPVDISQL CODES
Function AME48Q22-S22()
  /*  */
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-CODE-TBL";
  VDBCONTROL.UPROC-NM = "AME48Q22-S22";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-CODE-TBL";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q22-S22_RSI01
      with #sql{
        select CODE_TBL_CD, CODE_DESC
        from twncode_tbl T1
         --** INSERT WHERE, GROUP BY AND HAVING CLAUSES HERE **
        WHERE
          T1.CODE_TBL_TYP = 'IPVDISQL'
        ORDER BY T1.CODE_TBL_CD
        FOR FETCH ONLY
      }      
      into CODE-TBL-CD, CODE-DESC
      for H2-CODE-TBL ;
  end
  /*  */
  REPP9-SQL-CHKERR();

  /*  */
end // end AME48Q22-S22


// PROCESS TO SCAN CURSOR
Function AME48Q22-S22-SCAN()
  VDBCOMMON.USQLREC = "H2-CODE-TBL";
  VDBCONTROL.UPROC-NM = "AME48Q22-S22-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-CODE-TBL";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-CODE-TBL ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /*  */
end // end AME48Q22-S22-SCAN


// GET ALL UNIN CODES
Function AME48Q23-S23()
  /*  */
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-CODE-TBL";
  VDBCONTROL.UPROC-NM = "AME48Q23-S23";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-CODE-TBL";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q23-S23_RSI01
      with #sql{
        select CODE_TBL_CD, CODE_DESC
        from twncode_tbl T1
         --** INSERT WHERE, GROUP BY AND HAVING CLAUSES HERE **
        WHERE
          T1.CODE_TBL_TYP = 'UNEARNIN'
        ORDER BY T1.CODE_TBL_CD
        FOR FETCH ONLY
      }      
      into CODE-TBL-CD, CODE-DESC
      for H2-CODE-TBL ;
  end
  /*  */
  REPP9-SQL-CHKERR();

  /*  */
end // end AME48Q23-S23


// PROCESS TO SCAN CURSOR
Function AME48Q23-S23-SCAN()
  VDBCOMMON.USQLREC = "H2-CODE-TBL";
  VDBCONTROL.UPROC-NM = "AME48Q23-S23-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-CODE-TBL";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-CODE-TBL ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /*  */
end // end AME48Q23-S23-SCAN


// SET FLAG IF DISABLED
Function AME48Q24-S24()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-INCAP-DSBLTY";
  VDBCONTROL.UPROC-NM = "AME48Q24-S24";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "INQUIRY";
  VDBCONTROL.UPROC-OBJ = "H2-INCAP-DSBLTY";
  VDBCONTROL.UACCTYP = "R";
  try
    get H2-INCAP-DSBLTY singleRow
      with #sql{
        select 'Y'
        from TWNINCAP_DSBLTY T1
        WHERE
        T1.UPI = :UPI AND
        T1.PRD_BEG_DT <= :PRD-BEG-DT AND
        T1.PRD_END_DT >= :PRD-END-DT AND
        T1.INCAP_DSBL_RSN_CD = 'D' AND
        T1.INCAP_DSBL_VERF_CD = 'Y'
         --** INSERT ORDER BY CLAUSE HERE **
      }
      into AME48W1.WS-DSBLD-FG ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q24-S24


// GET DENIED CASES
Function AME48Q25-S25()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-2-FAA-FAC";
  VDBCONTROL.UPROC-NM = "AME48Q25-S25";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-2-FAA-FAC";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q25-S25_RSI01
      with #sql{
        select MIN(T1.ACTN_TS), T1.ICI
        from TWNFAM_ACTNS T1,
             TWNFAM_CASELD_CASE T2
         --** INSERT WHERE, GROUP BY AND HAVING CLAUSES HERE **
        WHERE
         T2.OFC_CD = :OFC-CD
         AND T1.ICI = T2.ICI
         AND T1.PRGM_TYP = 'FS'
         AND T1.ACTN_TYP = 'DN'
         AND T1.ACTN_TS BETWEEN :AME48W.WS-RPT-BEG-DT-TS AND
          :AME48W.WS-RPT-END-DT-TS
         GROUP BY T1.ACTN_TS, T1.ICI
         FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }      
      into ACTN-TS, ICI
      for H2-2-FAA-FAC ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /*  */
end // end AME48Q25-S25


// PROCESS TO SCAN CURSOR
Function AME48Q25-S25-SCAN()
  VDBCOMMON.USQLREC = "H2-2-FAA-FAC";
  VDBCONTROL.UPROC-NM = "AME48Q25-S25-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-2-FAA-FAC";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-2-FAA-FAC ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /*  */
end // end AME48Q25-S25-SCAN


// GET GENERAL ASSISTANCE INFO
Function AME48Q29-S29()
  WDB00PI();

  VDBCOMMON.USQLREC = "H2-GEN-ASST-INC-DT";
  VDBCONTROL.UPROC-NM = "AME48Q29-S29";
  VDBCOMMON.UAPPLNAM = "AME48A";
  VDBCONTROL.UPROC-OPT = "SETINQ";
  VDBCONTROL.UPROC-OBJ = "H2-GEN-ASST-INC-DT";
  VDBCONTROL.UACCTYP = "R";
  try
    open AME48Q29-S29_RSI01
      with #sql{
        select T1.GEN_ASIST_INC_AMT, T1.GEN_ASIST_FREQ
        from TWNGEN_ASST_INC_DT T1
        WHERE
        T1.UPI = :UPI
        AND T1.PRD_BEG_DT <= :AME48W.WS-RPT-BEG-DT
        AND T1.PRD_END_DT >= :AME48W.WS-RPT-END-DT
        AND T1.FS_CNTBL_IND = 'Y'
        AND T1.MAINT_CD <> 'D'
        FOR FETCH ONLY
         --** INSERT ORDER BY CLAUSE HERE **
      }      
      into GEN-ASIST-INC-AMT, GEN-ASIST-FREQ
      for H2-GEN-ASST-INC-DT ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /* cbsi end*/
end // end AME48Q29-S29


// PROCESS TO SCAN CURSOR
Function AME48Q29-S29-SCAN()
  VDBCOMMON.USQLREC = "H2-GEN-ASST-INC-DT";
  VDBCONTROL.UPROC-NM = "AME48Q29-S29-SCAN";
  VDBCONTROL.UPROC-OPT = "SCAN";
  VDBCONTROL.UPROC-OBJ = "H2-GEN-ASST-INC-DT";
  VDBCONTROL.UACCTYP = "R";
  try
    get next H2-GEN-ASST-INC-DT ;
  end
  /*  */
  REPP9-SQL-CHKERR();
  /*  */
end // end AME48Q29-S29-SCAN

