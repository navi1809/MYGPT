<%--
**************************************************************************************************
Name: [ABHouseholdRelationships.jsp]	Created By: [Surendra Nath]	Created On: [1/12/2006]
Purpose: [To collect the household relationship information]
Modification Logs:
Modified By 			Date				Reason & description
[MODIFIED NAME]		    [MM/DD/YYYY]		[REASON FOR CHANGE]
***************************************************************************************************
--%>

<%-- NOT EDITABLE - Fw Page Directive, Imports, and URIs --%>
<%@ include file="/frameworkIncludes/directives.jsp"%>
<%@page
	import="gov.illinois.access.business.customEntities.INDIVIDUAL_Custom_Cargo"%>
<%@page
	import="gov.illinois.access.business.entities.APP_HSHL_RLT_Cargo"%>
<%@page
	import="gov.illinois.access.business.entities.APP_HSHL_RLT_Collection"%>
<%@page import="gov.illinois.access.business.entities.APP_IN_PREG_Cargo"%>
<%@page import="gov.illinois.access.business.entities.APP_IN_NEWB_Cargo"%>
<%@page import="gov.illinois.access.management.util.DisplayFormatter"%>
<%@page import="gov.illinois.access.management.util.DateRoutine"%>
<%@page
	import="gov.illinois.framework.management.references.IReferenceConstants"%>
<%@page import="gov.illinois.framework.management.references.IReferenceTableManager"%>
<%@page import="gov.illinois.framework.management.references.ReferenceTableManager"%>
<%@page import="gov.illinois.access.business.entities.APP_INDV_Cargo"%>
<%@page import="gov.illinois.access.business.entities.APP_RGST_Cargo"%>
<%@page import="gov.illinois.access.management.programs.IProgramManager"%>
<%@page import="gov.illinois.access.management.programs.FwProgramManager"%>
<%@page import="org.owasp.encoder.Encode" %>
<%-- EDITABLE - Page Specific Imports and URIs (You can add code to this section) --%>
<jsp:useBean id="INDV_REF_CUST_Collection"
	class="gov.illinois.access.business.customEntities.INDIVIDUAL_Custom_Collection"
	scope="request" />
<jsp:useBean id="INDV_SRC_CUST_Collection"
	class="gov.illinois.access.business.customEntities.INDIVIDUAL_Custom_Collection"
	scope="request" />
<jsp:useBean id="INDIVIDUAL_NewBorn_Collection"
	class="gov.illinois.access.business.customEntities.INDIVIDUAL_Custom_Collection"
	scope="request" />
<jsp:useBean id="INDIVIDUAL_CareTaker_Collection"
	class="gov.illinois.access.business.customEntities.INDIVIDUAL_Custom_Collection"
	scope="request" />
<jsp:useBean id="APP_HSHL_RLT_Collection"
	class="gov.illinois.access.business.entities.APP_HSHL_RLT_Collection"
	scope="request" />
<jsp:useBean id="APP_IN_PREG_Collection"
	class="gov.illinois.access.business.entities.APP_IN_PREG_Collection"
	scope="request" />
<jsp:useBean id="APP_IN_NEWB_Collection"
	class="gov.illinois.access.business.entities.APP_IN_NEWB_Collection"
	scope="request" />
<jsp:useBean id="APP_IN_PRFL_Collection" class="gov.illinois.access.business.entities.APP_IN_PRFL_Collection" scope="request"/>
<jsp:useBean id="NO_ONE_Collection" class="gov.illinois.access.business.entities.NO_ONE_Collection" scope="request"/>	
<jsp:useBean id="APP_RGST_Collection" class="gov.illinois.access.business.entities.APP_RGST_Collection"	scope="request" />
<jsp:useBean id="APP_INDV_Collection" class="gov.illinois.access.business.entities.APP_INDV_Collection"	scope="request" />
<%-- EDITABLE - Page Specific useBean tags(You can add code to this section) --%>
<jsp:useBean id="relation"
	class="gov.illinois.access.presentation.pageElements.Relation"
	scope="application" />
<jsp:useBean id="iDontknow"
	class="gov.illinois.access.presentation.pageElements.IDontknow"
	scope="application" />

<%-- Added by Rashmi for New radio Button --%>

<jsp:useBean id="togethar"
	class="gov.illinois.access.presentation.pageElements.Togethar"
	scope="request" />
	
<jsp:useBean id="newBorn"
	class="gov.illinois.access.presentation.pageElements.NewBorn"
	scope="application" />


<jsp:useBean id="howManyBabies"
	class="gov.illinois.access.presentation.pageElements.HowManyBabies"
	scope="application" />
<jsp:useBean id="dueDate"
	class="gov.illinois.access.presentation.pageElements.DueDate"
	scope="application" />
<%--  Added by Uma Patil to know whether he is acting as a parent --%>
<jsp:useBean id="parent"
	class="gov.illinois.access.presentation.pageElements.Parent"
	scope="application" />
	
<%-- Added for the ILIES project --%>
<%-- <jsp:useBean id = "taxDependent"
	class = "gov.illinois.access.presentation.pageElements.TaxDependent"
	scope = "application" /> --%>
<jsp:useBean id = "taxJointlyFiled"
	class = "gov.illinois.access.presentation.pageElements.TaxJointlyFiled"
	scope = "application" />
<%-- NOT EDITABLE - Head Tag 
	Includes the DOCTYPE , META tags, teh form tag, the common JS files and CSS files to include in all the ACCESS JSPs 
--%>
<AP:FwHeadTag currentPageID="ABHHR" defaultPageAction="ABHHRNext"
	displayNavLinks="<%=FwConstants.NO%>"
	disableFocusOnFirstField="<%=FwConstants.YES%>" />

<%-- EDITABLE - Page specific .js or .css files (You can add code to this section) --%>

<%-- NOT EDITABLE - Welcome Tag and Toolbar Tag --%>
<AP:FwWelcomeTag>
	<AP:FwToolbarTag helpImage="<%=FwConstants.YES%>" />
</AP:FwWelcomeTag>

<%-- NOT EDITABLE - Framework Hidden Fields --%>
<TL:FwHiddenFieldsTag />

<%-- EDITABLE - Page Specific Hidden Fields (You can add code to this section) --%>

<%--NOT EDITABLE - Message Display Table  --%>
<AP:FwMessageDisplayTag />

<%--NOT EDITABLE - Begin BodyTableTag. --%>
<AP:FwBodyTableTag hideNav="N">

	<AP:AFBMenuTag />

	<%--NOT EDITABLE - End BodyTableTag. --%>
</AP:FwBodyTableTag>
<%-- <script language="JavaScript" type="text/JavaScript" SRC="/access/js/jquery-1.11.2.min.js"></script> --%>
<script language="JavaScript" type="text/JavaScript" SRC="/access/js/hoverHelp.js"></script>

<%-- EDITABLE (You can add code to this section) - Page Specific Table(s) - This is each developers area for coding the presentation. --%>
<%-- Added according to ILIES-129376 --%>
<%
APP_RGST_Cargo appRgstCargo = new APP_RGST_Cargo();
if (APP_RGST_Collection != null && APP_RGST_Collection.size() > 0) {
	appRgstCargo = APP_RGST_Collection.getCargo(0);
}
APP_INDV_Cargo appIndvCargo = new APP_INDV_Cargo();
if (APP_INDV_Collection != null && APP_INDV_Collection.size() > 0) {
	appIndvCargo = APP_INDV_Collection.getCargo(0);
}
boolean doc_pvlg = false;
String docMhProvider = "";
	if (null != request && request.getAttribute(AppConstants.DOC_MH_PROVIDER) != null) {
		docMhProvider = (String) request.getAttribute(AppConstants.DOC_MH_PROVIDER);
		if (docMhProvider!=null && !"".equals(docMhProvider.trim()) && "Y".equalsIgnoreCase(docMhProvider)) {
			doc_pvlg = true;
		}
	}

short[] pgmKey=(short[])session.getAttribute(FwConstants.AFB_PROGRAM_KEY);
IProgramManager programManager = FwProgramManager.getInstance();
boolean isMedicalOnlySelected = programManager.isMedicalOnlyProgramRequested(pgmKey);
boolean isMSPOnlyProgramRequested = programManager.isMSPOnlyProgramRequested(pgmKey);
boolean isSNAPOnlySelected = programManager.isSNAPOnlyProgramRequestedNew(pgmKey);//Added condition by Gauresh for ILIES-136382
boolean isSNAP = (pgmKey[2] == 1) ? true : false;
%>
<%-- Removed for ILIES-167660 --%>
<%-- <HTML>
<BODY> --%>
<%
	/*boolean pregStatus = false;
	if (request.getAttribute("PregPrflStatus") != null) {
	pregStatus =
		((Boolean) (request.getAttribute("PregPrflStatus"))).booleanValue();
	} *///Indrani
	int refCustCollSize = INDV_REF_CUST_Collection.size();
	String textSub = "32237";
	String dispText = "30029";
	if (refCustCollSize > 0) {
		//default values
	} else if (INDIVIDUAL_NewBorn_Collection.size() > 0
			|| INDIVIDUAL_CareTaker_Collection.size() > 0) {
		textSub = "32259";
		dispText = "30587";
	} /*else if (pregStatus) {
	textSub = "32260";
	dispText = "30586";
	}*///Indrani
%>

<TABLE BORDER="0" WIDTH="100%">
	<TBODY>
		<TR>
			<TD><AP:FwSubsectionTag textID="<%=textSub%>" headerLevel="<%=FwConstants.HEADER_LEVEL_H1%>">
				<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0">
					<TBODY>
						<TR>
							<TD COLSPAN="16" WIDTH="100%"><AP:FwPageLabelTag
								textID="<%=dispText%>" /></TD>
						</TR>
					</TBODY>
				</TABLE>
			</AP:FwSubsectionTag> <%
 	INDIVIDUAL_Custom_Cargo srcCustCargo = null;
  	INDIVIDUAL_Custom_Cargo refCustCargo = null;
  	srcCustCargo = INDV_SRC_CUST_Collection.getResult(0);
  	String[] sub = new String[2];
  	String[] sub1 = new String[1];
  	String[] sub2 = new String[3];
  	
  	Map sessionMap = (Map)session.getAttribute(FwConstants.HTTP_SESSION);
	String language = (String)sessionMap.get(AppConstants.LANGUAGE);
	IReferenceTableManager iref = ReferenceTableManager.getInstance();
		
  		 
  	String sFirstName = srcCustCargo.getFst_nam() != null ? srcCustCargo.getFst_nam().trim() : "";
  	String sMiddleInitial = srcCustCargo.getMid_init() != null ? srcCustCargo.getMid_init().trim() : "";
  	String sLastName = srcCustCargo.getLast_nam() != null ? srcCustCargo.getLast_nam().trim() : "";
  	String sSuffix = srcCustCargo.getSuffix_name() != null ? srcCustCargo.getSuffix_name().trim() : "";
  	StringBuffer sbS = new StringBuffer();
  	sbS.append(sFirstName);
 	
 	if(!sMiddleInitial.equals(AppConstants.SPACE) || !sMiddleInitial.isEmpty()){
 		sbS.append(AppConstants.SPACE);
 	  	sbS.append(sMiddleInitial);
 	}
 	
 	if(!sLastName.equals(AppConstants.SPACE) || !sLastName.isEmpty()){
 		sbS.append(AppConstants.SPACE);
		sbS.append(sLastName);
 	}
 	
 	if(!sSuffix.trim().equalsIgnoreCase("0")){
 		sbS.append(AppConstants.SPACE);
 		sbS.append(new String(iref.getColumnValue("TSUF", 731, sSuffix, language)));
 	} 	
 	sub[0] = sbS.toString().trim();
 	sub1[0] = srcCustCargo.getFst_nam();
 	
 	StringBuffer suffix = null;
 	String selectedRel = null;
 	int hshlRltCollSize = 0;
 	String refIndvSeqNum = null;
 	String srcIndvSeqNum = srcCustCargo.getIndv_seq_num();
 	boolean foundFlag = false;
 	APP_HSHL_RLT_Cargo appHshlRltCargo = null;
 	String together = null;
 	String physicallyBuy = null;
 	String actAsParent = null;
 	APP_HSHL_RLT_Collection relationCollection = null;
 	if (request.getAttribute("RelationCollection") != null) {
 		relationCollection = (APP_HSHL_RLT_Collection) request
 				.getAttribute("RelationCollection");
 	}

 	List filteredList = new ArrayList();
 	int filterSize = 0;
 	int[] filterColumnId = null;
 	String[] filterValue = null;
 	int addSize = 0;
 	String addFilter = null;
 	for (int i = 0; i < refCustCollSize; i++) {
 		refCustCargo = INDV_REF_CUST_Collection.getResult(i);
 		refIndvSeqNum = refCustCargo.getIndv_seq_num();
 		selectedRel = "SEL";
 		together = "";
 		physicallyBuy = "";
 		actAsParent = "";
 		addSize = 0;
 		addFilter = null;
 		String extension = "_" + i;

 		if (relationCollection != null) {
 			filteredList = DisplayFormatter.getInstance().filteredList(
 					relationCollection, srcIndvSeqNum, refIndvSeqNum);
 		}

 		filterSize = filteredList.size();
 		//modified for ILIES - 132598
 		/* if (srcCustCargo.getSex_ind().equals(refCustCargo.getSex_ind())) {
 		if (srcCustCargo.getSex_ind().equals(
 				AppConstants.SEX_IND_MALE)) {
 			addFilter = "HUS";
 		} else {
 			addFilter = "WIF";
 		}
 		addSize = 1;
 		} */

 		filterColumnId = new int[filterSize + 1 + addSize];
 		filterValue = new String[filterSize + 1 + addSize];

 		filterColumnId[0] = 66;
 		filterValue[0]="";
 		if (srcCustCargo.getSex_ind().equals(
 				AppConstants.SEX_IND_FEMALE)) {
 			filterValue[0] = AppConstants.SEX_IND_MALE;
 		} else if (srcCustCargo.getSex_ind().equals(
 				AppConstants.SEX_IND_MALE)) {
 			filterValue[0] = AppConstants.SEX_IND_FEMALE;
 		}

 		for (int j = 1; j < filterSize + 1; j++) {
 			filterColumnId[j] = IReferenceConstants.CODE_COLUMN_ID;
 			filterValue[j] = (String) filteredList.get(j - 1);
 		}
 		if (addSize == 1) {

 			filterColumnId[filterColumnId.length - 1] = IReferenceConstants.CODE_COLUMN_ID;
 			filterValue[filterValue.length - 1] = addFilter;
 		}

 		String rFirstName = refCustCargo.getFst_nam() != null ? refCustCargo.getFst_nam().trim() : "";
 		String rMiddleInitial = refCustCargo.getMid_init() != null ? refCustCargo.getMid_init().trim() : "";
 		String rLastName = refCustCargo.getLast_nam() != null ? refCustCargo.getLast_nam().trim() : "";
 		String rSuffixName = refCustCargo.getSuffix_name() != null ? refCustCargo.getSuffix_name().trim() : "";
 		StringBuffer sbR = new StringBuffer();
 		sbR.append(rFirstName);
 		
 		if(!rMiddleInitial.equals(AppConstants.SPACE) || !rMiddleInitial.isEmpty()){
 			sbR.append(AppConstants.SPACE);
 			sbR.append(rMiddleInitial);
 		}

 		if(!rLastName.equals(AppConstants.SPACE) || !rLastName.isEmpty()){
 			sbR.append(AppConstants.SPACE);
			sbR.append(rLastName);
		}

 		if(!rSuffixName.trim().equalsIgnoreCase("0")){
 			sbR.append(AppConstants.SPACE);
 			sbR.append(new String(iref.getColumnValue("TSUF", 731, rSuffixName, language))); 	
 		} 			
 		sub[1] = sbR.toString().trim();		
 		suffix = new StringBuffer();
 		suffix.append(FwConstants.FORM_PROPERTY_DYNAFORM_DELIMITER);
 		suffix.append(srcCustCargo.getIndv_seq_num());
 		suffix.append(FwConstants.FORM_PROPERTY_DYNAFORM_DELIMITER);
 		suffix.append(refCustCargo.getIndv_seq_num());
 		if (APP_HSHL_RLT_Collection != null
 				&& APP_HSHL_RLT_Collection.size() > 0) {
 			hshlRltCollSize = APP_HSHL_RLT_Collection.size();
 			for (int j = 0; j < hshlRltCollSize; j++) {
 				appHshlRltCargo = APP_HSHL_RLT_Collection.getCargo(j);
 				if (appHshlRltCargo.getSrc_indv_seq_num().equals(
 						srcIndvSeqNum)
 						&& appHshlRltCargo.getRef_indv_seq_num()
 								.equals(refIndvSeqNum)) {
 					selectedRel = appHshlRltCargo.getRlt_cd();
 					together = appHshlRltCargo.getPnp_tghr_sw();
 					physicallyBuy = appHshlRltCargo.getPhy_boe_sep_sw();
 					actAsParent = appHshlRltCargo.getIs_parent_sw();
 					break;
 				}
 			}
 		}

 		if (together == null || together.equals(" ")
 				|| together.equals("")) {
 			together = "Y";
 		}
 		if (physicallyBuy == null || physicallyBuy.equals(" ")
 				|| physicallyBuy.equals("")) {
 			physicallyBuy = "Y";
 		}

 		// 		Added for the ILIES project
 		String dependent = "";
 		String jointlyFiled = "";

 		if (appHshlRltCargo != null) {
 			if (appHshlRltCargo.getTax_dependent_sw() != null) {
 				dependent = appHshlRltCargo.getTax_dependent_sw();
 			}

 			if (appHshlRltCargo.getTax_jointly_filed_sw() != null) {
 				jointlyFiled = appHshlRltCargo
 						.getTax_jointly_filed_sw();
 			}
 		}

		//ILIES-314640 | 11/18/2025 | susmanov | Tax information  | START
 		if (dependent == null || dependent.equals("")) {
 		   if (!doc_pvlg){
 			dependent = "X";
 			}else {
 			dependent = "N";
 			}
 		}
		//ILIES-314640 | 11/18/2025 | susmanov | Tax information  | END
 		if (jointlyFiled == null || jointlyFiled.equals("")) {
 			jointlyFiled = "X";
 		}
 %> <AP:FwSubsectionTag textID="32028" substitute="<%=sub%>" headerLevel="<%=FwConstants.HEADER_LEVEL_H2%>">
				<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" role="presentation">
					<%--DWLayoutTable--%>
					<TBODY>
						<TR>
							<TD WIDTH="5%" VALIGN="middle">&nbsp;</TD>
							<TD WIDTH="15%" VALIGN="middle">
								<AP:AFBImageTag showFullName="Y" language="<%=language%>" indivCargo="<%=srcCustCargo%>"/>
							</TD>
							<TD WIDTH="5%" VALIGN="middle" align="center">
								<IMG SRC="<%=AppConstants.FOLDER_IMAGES%><%=AppConstants.BULLET_REQUIRED%>" alt="">
							</TD>
							<TD VALIGN="middle" WIDTH="40%">
								<AP:FwRTSelectTag bean="<%=relation%>" referenceTableName="TREL" suffixname="<%=suffix.toString()%>" selected="<%=selectedRel%>" 
									filterColumnId="<%=filterColumnId%>" filterMatchCriteria="<%=IReferenceConstants.FILTER_EXCLUDE_MATCH_ONE%>" 
									filterValue="<%=filterValue%>" columnId="65" tagValueName="32028" substitute="<%=sub%>" tagRequired="Y"/>
							</TD>
							<TD WIDTH="5%" VALIGN="middle">&nbsp;</TD>
							<TD VALIGN="middle" WIDTH="15%">
								<AP:AFBImageTag showFullName="Y" language="<%=language%>" indivCargo="<%=refCustCargo%>"/>
							</TD>
							<TD WIDTH="5%">&nbsp;</TD>
						</TR>
					</TBODY>
				</TABLE>
				<%String dependetID = "taxDependent"+"_"+ suffix.toString(); %>
				<input type="hidden" name="<%=Encode.forHtmlAttribute(dependetID)%>" id="<%=Encode.forHtmlAttribute(dependetID)%>" value="<%=Encode.forHtmlAttribute(dependent)%>">
				
				<%String taxJointlyFiledID = "taxJointlyFiled"+"_"+ suffix.toString(); %>
				<input type="hidden" name="<%=Encode.forHtmlAttribute(taxJointlyFiledID)%>" id="<%=Encode.forHtmlAttribute(taxJointlyFiledID)%>" value="<%=Encode.forHtmlAttribute(jointlyFiled)%>">
				<%
					//PCR# 33678 - dont ask "Does Buy and Share Food question" for Child Out of Home
						String srcOutOfHomeInd = srcCustCargo.getOut_of_home_ind();
						String refOutOfHomeInd = refCustCargo.getOut_of_home_ind();						
						boolean dispEatTogetherQnsFlag = true;
						if (srcOutOfHomeInd != null && srcOutOfHomeInd.length() > 0
								&& srcOutOfHomeInd.equals(FwConstants.YES)) {
							dispEatTogetherQnsFlag = false;
						}
						if (refOutOfHomeInd != null && refOutOfHomeInd.length() > 0
								&& refOutOfHomeInd.equals(FwConstants.YES)) {
							dispEatTogetherQnsFlag = false;
						}
				%>
				<%
					if (dispEatTogetherQnsFlag) {
				%>
				<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" role="presentation">
					<AP:FwHoverHelpTag hoverHelpTitle="131617" hoverHelpText="131843" var="togetherHover" width="medium" extId="<%=extension%>" 
						altId="131845" substitute="<%=sub%>"/>
					<AP:FwHoverHelpTag hoverHelpTitle="131617" hoverHelpText="131844" var="separeteHover" width="medium" extId="<%=extension%>" 
						altId="131846" substitute="<%=sub%>"/>
					<TBODY>
						<TR>
							<TD><AP:FwComponentTag componentId="5098">
								<TABLE role="presentation" WIDTH="100%" BORDER="0">
									<TBODY>
									<%-- Added according to ILIES-129376 --%>
									<TR><TD>&nbsp;</TD></TR>
									<%if(isSNAP){%>
										<TR>
											<TD WIDTH="80%" VALIGN="left">
												<AP:FwPageLabelTag bean="<%=iDontknow%>" textID="131845" substitute="<%=sub%>" tagRequired="Y"/>${togetherHover}
											</TD>
											<TD WIDTH="3%" VALIGN="middle">&nbsp;</TD>
											<TD WIDTH="17%" VALIGN="right">
												<AP:FwRTGroupTag groupType="S" tablecols="3" bean="<%=iDontknow%>" referenceTableName="TRSP" 
													suffixname="<%=suffix.toString()%>" selected="<%=together%>" columnId="57" tabtext="131845" 
													substitute="<%=sub%>" tagRequired="Y"/>
											</TD>
										</TR>
										<TR><TD>&nbsp;</TD></TR>																			
										<%} %>
										<%-- Added according to ILIES-129376 --%>
										<%--  Added by Rashmi --%>											
										<%-- Added according to ILIES-129376 --%>
										<%if(isSNAP){%>
										<TR>
											<TD>
												<AP:FwPageLabelTag bean="<%=togethar%>" textID="131846" substitute="<%=sub%>" tagRequired="Y"/>${separeteHover}
											</TD>
											<TD VALIGN="middle">&nbsp;</TD>
											<TD>
												<AP:FwRTGroupTag groupType="S" tablecols="3" bean="<%=togethar%>" referenceTableName="TRSP" 
													suffixname="<%=suffix.toString()%>" selected="<%=physicallyBuy%>" columnId="57" tabtext="131846" 
													substitute="<%=sub%>" tagRequired="Y"/>
											</TD>
											
										</TR>										
										<%} %>	
										<%-- Added according to ILIES-129376 --%>
										<%--  Changed code ends here --%>
										
<%-- 										Added for the ILIES project --%>
									<%-- 	<tr>
											<td>
												<AP:FwPageLabelTag textID = "31460" substitute = "<%=sub%>" />
											</td>
										</tr>
										
										<tr>
										<TD>
								<TABLE Width = "30%">
											<td>
												<AP:FwRTGroupTag groupType = "S" tablecols = "3"
													bean = "<%=taxDependent%>" referenceTableName = "TRSP"
													suffixname = "<%=suffix.toString()%>"
													selected = "<%=dependent%>" columnId = "57" tabtext="31460" substitute="<%=sub%>" tagRequired="Y"/>
											</td></TABLE></TD>
										</tr> --%>
										 <%if(!isMSPOnlyProgramRequested && !isSNAPOnlySelected){ %> <!-- Added condition by Gauresh for ILIES-136382: to not display details when program selected is only SNAP-->
										<%-- Added according to ILIES-312150 --%>
										<%if (doc_pvlg){ %>
										 <tr><TD>&nbsp;</TD></tr>
										 <tr>
											<td>
												<AP:FwPageLabelTag textID = "31461" substitute = "<%=sub%>" />
											</td>
											<TD VALIGN="middle">&nbsp;</TD>																								
											<TD>
												<AP:FwRTGroupTag groupType = "S" tablecols = "3"
													bean = "<%=taxJointlyFiled%>" referenceTableName = "TRSP"
													suffixname = "<%=suffix.toString()%>"
													selected = "<%=jointlyFiled%>" columnId = "57" tabtext="31461" substitute="<%=sub%>"/>
											</TD>
										</tr>
										<%}%>
										<%-- Added according to ILIES-312150 --%>										
										<%} %> 
									</TBODY>
								</TABLE>
							</AP:FwComponentTag></TD>
						</TR>
					</TBODY>
				</TABLE>
				<%
					}//end if(dispEatTogetherQnsFlag)
				%>
				<TABLE>
					<TBODY>
						<TR>
							<TD><AP:FwComponentTag componentId="420">
								<TABLE>
									<TBODY>
										<TR>
											<TD><AP:FwPageLabelTag textID="80342"  substitute="<%=sub%>" /></TD>
										</TR>
										<TR>
											<TD>
												<AP:FwRTGroupTag groupType="S" tablecols="3" bean="<%=parent%>" referenceTableName="TRSP" 
													suffixname="<%=suffix.toString()%>" selected="<%=actAsParent%>" columnId="57" tabtext="80342" 
													substitute="<%=sub%>"/>
											</TD>
										</TR>
									</TBODY>
								</TABLE>
							</AP:FwComponentTag></TD>
						</TR>
					</TBODY>
				</TABLE>
			</AP:FwSubsectionTag> <%
 	}
 %>
			</TD>
		</TR>
		<%
			/* if (pregStatus) {
			String pregDate = "";
			String howMany = "";
			if (APP_IN_PREG_Collection != null && APP_IN_PREG_Collection.size() > 0) {
				APP_IN_PREG_Cargo appInPregCargo = APP_IN_PREG_Collection.getCargo(0);
				if (appInPregCargo.getPreg_due_dt() != null
					&& !appInPregCargo.getPreg_due_dt().trim().equals("")
					&& !appInPregCargo.getPreg_due_dt().equals(AppConstants.HIGH_DATE)) {
					pregDate = appInPregCargo.getPreg_due_dt();
					if (pregDate.length() == 10 && pregDate.charAt(4) == '-') {
						pregDate = DisplayFormatter.getInstance().getMMDDYYYYDate(pregDate);
					}
					else if(pregDate.length() > 10 && pregDate.charAt(4) == '/')
					{
						pregDate = DateRoutine.getInstance().getDateFromTimeStamp(pregDate).toString();
					}
				}
				if (appInPregCargo.getFetus_ct() != null
					&& !appInPregCargo.getFetus_ct().equals("0")) {
					howMany = appInPregCargo.getFetus_ct();
				}
			} */
		%>
		
<%-- PCR# 35051 - Don't ask Pregnancy details for FS only application --%>
		<%--
	 <AP:FwComponentTag componentId="5135">
		<TR>
			<TD><AP:FwSubsectionTag textID="32075" substitute="<%=sub1%>">
				<TABLE>
					<TBODY>
						<AP:FwComponentTag componentId="62">
							<TR>
								<TD width="60%"><AP:FwPageLabelTag textID="30062" bean="<%=dueDate%>"
									substitute="<%=sub1%>" /></TD>
								<TD width="40%"><TL:FwGroupDateTag bean="<%=dueDate%>"
									value="<%=pregDate%>" /></TD>
							</TR>
						</AP:FwComponentTag>
						<AP:FwComponentTag componentId="62">
							<TR>
								<TD width="60%"><AP:FwPageLabelTag textID="30060"
									substitute="<%=sub1%>" /></TD>
								<TD width="40%"><TL:FwTextBoxTag bean="<%=howManyBabies%>"
									value="<%=howMany%>" /></TD>
							</TR>
						</AP:FwComponentTag>
					</TBODY>
				</TABLE>
			</AP:FwSubsectionTag></TD>
		</TR>
	</AP:FwComponentTag>	--%>
		<%
			// }  Indrani
			if (INDIVIDUAL_NewBorn_Collection.size() > 0) {
				INDIVIDUAL_Custom_Cargo newBornCaro = INDIVIDUAL_NewBorn_Collection
						.getResult(0);
				suffix = new StringBuffer();
				suffix.append(FwConstants.FORM_PROPERTY_DYNAFORM_DELIMITER);
				suffix.append(srcCustCargo.getIndv_seq_num());
				String selectedValue = "";
				sub[1] = newBornCaro.getFst_nam();
				sub2[0] = sub[0];
				sub2[1] = sub[1];
				sub2[2] = sub[0];
				if (APP_IN_NEWB_Collection.size() > 0) {
					APP_IN_NEWB_Cargo appNewBornCargo = APP_IN_NEWB_Collection
							.getResult(0);
					selectedValue = appNewBornCargo.getLive_with_mom_resp();
				}
		%>
		<TR>
			<TD><AP:FwSubsectionTag textID="32150" substitute="<%=sub1%>"
				componentId="64">
				<TABLE>
					<TBODY>
						<TR>
							<TD><AP:FwPageLabelTag bean="<%=newBorn%>" textID="30063" substitute="<%=sub2%>" /></TD>
						</TR>
						<TR>
							<TD>
								<AP:FwRTGroupTag groupType="S" tablecols="3" bean="<%=newBorn%>" referenceTableName="TRSP" suffixname="<%=suffix.toString()%>" 
									selected="<%=selectedValue%>" columnId="57" tabtext="30063" substitute="<%=sub%>"/>
							</TD>
						</TR>
					</TBODY>
				</TABLE>
			</AP:FwSubsectionTag></TD>
		</TR>
		<%
			}
			// avtsingh: Modified as per ILIES-126663
			if (INDIVIDUAL_CareTaker_Collection.size() > 0) {
				sub[1] = srcCustCargo.getFst_nam();
				String[] values = { srcIndvSeqNum };
				Map careTakerMap = (Map) request.getAttribute("CareTakerMap");
				// Getting No One values from request
				String careNoOneCheckedValue = null;
	            Map noOneCheckedMap = (Map) request.getAttribute("NO_ONE_CHECKED_MAP");
	            if(noOneCheckedMap != null){
	            careNoOneCheckedValue = (String) noOneCheckedMap.get("NO_ONE_CHECKED_32");
	            }
	        String[] noOneValue_CARETAKER = {"Y", "CARETAKER"};
		%>
 		<TR>
			 <TD><AP:FwSubsectionTag textID="32137" componentId="32">
				<TABLE>
					<TBODY>
						<TR>
							<TD>
								<AP:FwPageLabelTag textID="30031" substitute="<%=sub%>" tagRequired="Y"/>
							</TD>
							 <TD>
							 	<AP:AFBIndividualsTag altID="30031" collection="<%=INDIVIDUAL_CareTaker_Collection%>" indivCollection="<%=careTakerMap%>" 
							 		selectOption="M" formType="DF" htmlName="careTaker" valueElements="<%=values%>" noOneSelected="<%=careNoOneCheckedValue%>" 
							 		noOneValueforDF="<%=noOneValue_CARETAKER%>" tagRequired="Y" substitute="<%=sub%>"/>
							</TD>  
			<!-- End of ILIES-126663 changes -->
						</TR>
					</TBODY>
				</TABLE>
			</AP:FwSubsectionTag></TD> 
		</TR> 
		<%
			}
		%>
		<TR>
			<TD>
			<TABLE WIDTH="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" role="presentation">
				<TBODY>
					<TR>
						<TD ALIGN="right">
							<AP:FwButtonCSSTag button="<%=AppConstants.BUTTON_BACK2%>" pageAction="ABHHRPrevious" name="Back" langButton="true"/>
							<AP:FwButtonCSSTag button="<%=AppConstants.BUTTON_SAVE_EXIT%>" pageAction="ABHHRSave" name="SaveAndExit" langButton="true"/>
							<AP:FwButtonCSSTag  styleClass="button-col-dark" button="<%=AppConstants.BUTTON_NEXT1%>" pageAction="ABHHRNext" name="Next" langButton="true"/>
						</TD>
					</TR>
				</TBODY>
			</TABLE>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<%-- NOT EDITABLE - Legal Disclaimer Table --%>
<AP:FwPageLegalTag />
<%-- Removed for ILIES-167660 --%>
<%-- </BODY>
</HTML> --%>