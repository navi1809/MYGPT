
<%@ include file="../../libraryinclude.jsp"%>
<jsp:include page='memberconstructs.jsp'></jsp:include>
<c:url value="/addMemberSectionInfo" var="addMemberSectionURL" />
<input type='hidden' id='add_URL_MEMB' value='${addMemberSectionURL}' />
<c:url value="/delMember" var="delMemberURL" />
<input type='hidden' id='del_URL_MEMB' value='${delMemberURL}' />
<c:url value="/defaultLanding" var="MemberDefaultLanding" />
<input type="hidden" id="MEM_DEF_LANDING_URL"
	value="${MemberDefaultLanding}" />
<c:url value="/updateMemberSectionInfo" var="saveMemberSectionURL" />
<input type='hidden' id='save_URL_MEMB' value='${saveMemberSectionURL}' />
<c:url value="/insertMemberSectionInfo" var="insertMemberSectionURL" />
<input type='hidden' id='insert_URL_MEMB'
	value='${insertMemberSectionURL}' />
<c:url value="/searchPerson" var="searchPersonDetails" />
<c:url value='/displayPrismMemInfo' var="prismDisplayEndPoint" />
<c:url value="/createPerson" var="createPerson" />
<input type="hidden" id="PRISM_ENDPOINT_URL"
	value="${prismDisplayEndPoint}" />
<c:url value='/reslovePrismMemConflictInfo'
	var="prismConflictDisplayEndPoint" />
<input type="hidden" id="PRISMCONFLICT_ENDPOINT_URL"
	value="${prismConflictDisplayEndPoint}" />
<input type="hidden" id="PRISM_SEARCH_URL"
	value="${searchPersonDetails}" />
<input type="hidden" id="PRISM_CREATE_URL" value="${createPerson}" />
<c:url value="/displayAdditionalMembInfo" var="additionalMembDisplay" />
<input type="hidden" id="ADD_MEMB_DISPLAY"
	value="${additionalMembDisplay}" />
<c:url value="/saveAdditionalMembInfo" var="saveAdditionalMembDisplay" />
<input type="hidden" id="SAVE_ADD_MEMB_DISPLAY"
	value="${saveAdditionalMembDisplay}" />
<c:url value="/displaytanftimelimits" var="tanfTimeLimits" />
<input type="hidden" id="TANF_TIME_LIMITS" value="${tanfTimeLimits}" />
<c:url value="/savetanftimelimits" var="saveTanfTimeLimits" />
<input type="hidden" id="SAVE_TANF_TIME_LIMITS"
	value="${saveTanfTimeLimits}" />
<c:url value="/displayabwdinfo" var="abwdDisplay" />
<input type="hidden" id="ADD_ABWD_DISPLAY" value="${abwdDisplay}" />
<c:url value="/saveabwdinfo" var="saveAbwdDisplay" />
<input type="hidden" id="SAVE_ADD_ABWD_DISPLAY"
	value="${saveAbwdDisplay}" />
<c:url value="/addOtherName" var="addOtherNameURL" />
<input type='hidden' id='addOtherName_URL_MEMB'
	value='${addOtherNameURL}' />
<c:url value="/deleteOtherName" var="deleteOtherNameURL" />
<input type='hidden' id='deleteOtherName_URL_MEMB'
	value='${deleteOtherNameURL}' />
<c:url value="/updateOtherName" var="updateOtherNameURL" />
<input type='hidden' id='updateOtherName_URL_MEMB'
	value='${updateOtherNameURL}' />
<c:url value="/displaymemberdisqualification"
	var="memberDisqualificationURL" />
<input type="hidden" id="MEMBER_DISQ_DISPLAY"
	value="${memberDisqualificationURL}" />
<c:url value="/savememberdisqualification" var="saveMemberDisqualURL" />
<input type="hidden" id="SAVE_MEMB_DISQUALIFICATIONS"
	value="${saveMemberDisqualURL}" />
<c:url value="/displaySanctionDetailInfo" var="sanctionDetailDisplay" />
<input type="hidden" id="SANC_DISPLAY_URL"
	value="${sanctionDetailDisplay}" />

<c:url value="/deleteSanctionDetailInfo" var="sanctionDetailDelete" />
<input type="hidden" id="SANC_DELETE_URL"
	value="${sanctionDetailDelete}" />

<c:url value="/displaytanfdisregards" var="tanfDisregardsURL" />
<input type="hidden" id="TANF_DISREGARDS_DISPLAY"
	value="${tanfDisregardsURL}" />
<c:url value="/savetanfdisregards" var="saveTanfDisregardsURL" />
<input type="hidden" id="SAVE_TANF_DISREGARDS"
	value="${saveTanfDisregardsURL}" />
<c:url value="/editSanctionDetailInfo" var="sactionDetailEdit" />
<input type='hidden' 
    value="${editSanctionDetailInfo} }" />	

<div id='home' class='home'>
	<form id='memberHOME' name='memberHOME' modelAttribute='memberhome' commandName="action" class='bapSummaryHome'>
		<input type='hidden' id='bapName' value='member' />
		<table width='100%' border='0' cellpadding='0' cellspacing='0'
			class='portlet-table-body'>
			<tr>
				<td width="100%"><div id="messageContainer"
						class='messageseciondiv'></div></td>
			</tr>
			<c:choose>
				<c:when test="${not empty caseClosedMessage}">
					<tr>
						<td width="100%"><div id="messageCaseClosedMemb"
								class="fieldErrors">${caseClosedMessage}</div></td>
					</tr>
				</c:when>
			</c:choose>
			<!-- Header Change -->
			<c:choose>
				<c:when
					test="${not empty memberhome.memberConflictSummaryViewBeans}">
					<tr>
						<td class='page-header'><spring:message
								code="IndividualDemographics.text.conflict.memberchangeinformation" />${memberhome.applicationModeType}</td>
					</tr>
					<tr>
						<td width='100%'><jsp:include
								page='memberConflictSummary.jsp'>
							</jsp:include></td>
					</tr>
				</c:when>
			</c:choose>

			<!-- Header Change -->
			<tr>
				<td class='page-header'><spring:message
						code="IndividualDemographis.header.householdMembers" /></td>
			</tr>
			<tr>
				<td width='100%'></td>
			</tr>
			<tr>
				<td width='100%'><jsp:include page='memberSummary.jsp'>
					</jsp:include></td>
			</tr>
			<!-- 
				Removing the class portlet-form-button from delete and add buttons below.Removed portlet-table-body class from tr.
			 -->
			<tr>
				<td align='right' colspan='8'><c:choose>
						<c:when
							test="${(not empty memberhome.memberSummaryViewBeans) || (not empty caseClosedMessage)}">
							<button class="button-delete-color" id='deleteButton'
								disabled="disabled" type='button'
								onclick='return deleteMemRecord()'>
								<spring:message code="general.text.delete" />
							</button>
						</c:when>
						<c:otherwise>
							<button class="button-delete-color" id='deleteButton'
								type='button' onclick='return deleteMemRecord()'>
								<spring:message code="general.text.delete" />
							</button>
						</c:otherwise>
					</c:choose> <c:choose>
						<c:when test="${not empty caseClosedMessage}">
							<button class="button-add-default" id='addAnotherButton'
								disabled="disabled" type='button'
								onclick='return addNewRecord();'>
								<spring:message code="general.text.add" />
							</button>
						</c:when>
						<c:otherwise>
							<button class="button-add-default" id='addAnotherButton'
								type='button' onclick='return addNewRecord();'>
								<spring:message code="general.text.add" />
							</button>
						</c:otherwise>
					</c:choose></td>
			</tr>
			<tr>
				<td width='100%'></td>
			</tr>
		</table>
	</form>
</div>
<div id="conflictPanelDiv" style="display: none;"
	title="Conflict Resolution"></div>

<form id='memberDetails' name='memberDetails' class='bapHome'
	modelAttribute='memberDetails' commandName="action">
	<input type='hidden' id='bapName' value='member' />
	<div id='memberDetails' class='masterObjectViewDetails'></div>
</form>

<script type="text/javascript" src="/AMPSStaticWeb/static/js/caseprocessing/memberSection.js">
	
</script>
<script>
	$(document).ready(
			function() {
				try {
					// applying table styles.
					//Commenting the below function call as it will be handled from css.
					//applyRecordTableStyles("conflictSummaryTable");
					//applyRecordTableStyles("bapSummaryTable");
					// initializing dailog box.
					$("#conflictPanelDiv").dialog(
							{
								autoOpen : false,
								bgiframe : true,
								minHeight : 150,
								maxHeight : 1000,
								width : 880,
								height : 630,
								modal : true,
								draggable : false,
								resizable : true,
								position : 'center',
								create : function(event, ui) {
									var widget = $(this).dialog("widget");
									$(".ui-dialog-titlebar-close span", widget)
											.html("&#10006;");
									$(".ui-dialog-titlebar-close span", widget)
											.removeClass("ui-icon");
								}
							});
				} catch (e) {
					console.log("Error" + e);
				}
			});
</script>
<script>
	$(document).ready(function() {
		$(document.body).data('membereditor_form_data', '');
		$(document.body).data('prism_form_data', '');
		$(document.body).data('alias_form_data', '');
	});
	function resizePrismIframe(obj) {
		obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
	}
</script>