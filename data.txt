@Test
    public void testBatchJobWithMockRepositoryInsert() throws Exception {
        // Arrange: Mock the behavior of the ItemReader
        when(mockItemReader.read()).thenReturn("Item1", "Item2", "Item3", null);

        // Mock the ItemProcessor (returning same value)
        when(mockItemProcessor.process(any(String.class))).thenAnswer(invocation -> invocation.getArgument(0));

        // Mock repository insert (we don't actually want to perform the insert)
        doNothing().when(mockRepository).save(any());

        // Inject mocked dependencies
        JobExecution jobExecution = jobLauncherTestUtils.launchJob();

        // Assert: Check that the job completes successfully
        assertEquals(ExitStatus.COMPLETED, jobExecution.getExitStatus());

        // Verify that the repository's save method was called for each item
        verify(mockRepository, times(3)).save(any());  // Three items to insert

        // Verify other interactions as needed
    }
}