public static String determineTaxFilingStatusCode(List<Applicant> applicants) {
        int count = applicants.size();
        boolean hasDependent = applicants.stream().anyMatch(a -> a.isClaimedAsDependent);
        boolean hasJoint = applicants.stream().anyMatch(a -> a.isJointFiling);

        if (count == 1) {
            return "1";
        }

        if (count == 2) {
            if (hasJoint) return "2";
            if (hasDependent) return "4";
            return "4";  // Defaulting to 4 for 2-member not joint
        }

        if (count >= 3) {
            if (hasJoint) return "2";
            return "4";
        }

        return "no tax Return section"; // Fallback
    }
